import{d as a,r as t,p as e,aA as r,a7 as s,a8 as l,o,v as n,y as i,f as u,F as d,E as c,az as v,ab as m}from"./index-40170f2c.js";import{s as p}from"./index.esm-01328638.js";import{h as f}from"./index-63f72026.js";const h={class:"dv-decoration-9"},y=["stroke"],k=["dur"],g=["stroke"],b=["dur"],x=["stroke"],w=["xlink:href","stroke","fill"],N=["dur","begin"],T=["stroke"],$="decoration-9-polygon",_=m(a({__name:"Gauge",props:{component:{}},setup(a){const m=a,{propValue:_}=p(m.component,((a,t)=>{2===a.length&&("attr"===a[0]&&"color1"===a[1]&&(j.value[0]=t),"attr"===a[0]&&"color2"===a[1]&&(j.value[1]=t),"attr"===a[0]&&"unit"===a[1]&&(A.value=t))})),j=t([_.attr.color1,_.attr.color2]),C=t(3),V=t(0),z=t([1,1]),A=t(_.attr.unit||""),M=a=>{const t=a.contentRect,e=Math.min(t.width/100,t.height/100);z.value=[e,e]};e((async()=>{await E()}));const E=async()=>{if(_.data.history)try{const a=await f.post({url:_.data.history,data:[_.data.datatag]});200===a.status&&(V.value=Number(a.data.TagValue))}catch(a){}};return r("actual",(a=>{const t=a;_.data.datatag&&t.TagName===_.data.datatag&&(V.value=Number(t.TagValue))})),(a,t)=>{const e=s("resize");return l((o(),n("div",h,[(o(),n("svg",{width:"100",height:"100",style:i(`transform: scale(${z.value[0]}, ${z.value[1]})`)},[u("defs",null,[u("polygon",{id:$,points:"15, 46.5, 21, 47.5, 21, 52.5, 15, 53.5"})]),u("circle",{cx:"50",cy:"50",r:"45",fill:"transparent",stroke:j.value[1],"stroke-width":"10","stroke-dasharray":"80, 100, 30, 100"},[u("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;360 50 50",dur:`${C.value}s`,repeatCount:"indefinite"},null,8,k)],8,y),u("circle",{cx:"50",cy:"50",r:"45",fill:"transparent",stroke:j.value[0],"stroke-width":"6","stroke-dasharray":"50, 66, 100, 66"},[u("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;-360 50 50",dur:`${C.value}s`,repeatCount:"indefinite"},null,8,b)],8,g),u("circle",{cx:"50",cy:"50",r:"38",fill:"transparent",stroke:j.value[1],"stroke-width":"1","stroke-dasharray":"5, 1"},null,8,x),(o(!0),n(d,null,c(new Array(20).fill(0),((a,t)=>(o(),n("use",{key:t,"xlink:href":`#${$}`,stroke:j.value[1],fill:Math.random()>.4?"transparent":j.value[0]},[u("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;360 50 50",dur:`${C.value}s`,begin:t*C.value/20+"s",repeatCount:"indefinite"},null,8,N)],8,w)))),128)),u("circle",{cx:"50",cy:"50",r:"26",fill:"transparent",stroke:j.value[1],"stroke-width":"1","stroke-dasharray":"5, 1"},null,8,T)],4)),u("div",null,v(V.value)+v(A.value),1)])),[[e,M]])}}}),[["__scopeId","data-v-b8a3187b"]]);export{_ as default};
