import{e as F}from"./Editor.c50a59a0.js";import{d as D,r as i,K as y,i as B,l as w,o as x,G as N,L as O,H as v,b as o,I as l,t as h,n as I,u as d,M as m,O as J,p as j,j as R,_ as U}from"./index.b2f7e009.js";const z=t=>(j("data-v-98730a38"),t=t(),R(),t),A={class:"buttons"},E={class:"footer"},T={class:"left"},V={class:"right"},W=z(()=>o("div",{class:"lang"},"JSON",-1)),G=D({__name:"view",props:{content:{default:""},title:{default:""},mode:{default:"use"},height:{default:"600px"}},emits:["update:content"],setup(t,{emit:_}){const a=t,s=i(!0),f=y(),p=B(()=>({height:a.height,tabSize:4,indentWithTab:!0,autofocus:!0,disabled:a.mode!=="debug"})),c=i(null),g=()=>{const e=c.value.handleRedo;e&&e()},S=()=>{const e=c.value.handleUndo;e&&e()},n=i(JSON.stringify(a.content,null,"	")),b=e=>{s.value=!1},k=()=>{try{_("update:content",JSON.parse(n.value)),s.value=!0,m.success("\u4FDD\u5B58\u6210\u529F")}catch(e){console.log(e),m.warning("\u6570\u636E\u5FC5\u987B\u7B26\u5408JSON\u683C\u5F0F")}};return w(()=>a.content,()=>{n.value=JSON.stringify(a.content,null,"	")}),(e,r)=>{const u=J("icon-park");return x(),N(d(F),{ref_key:"cm",ref:c,code:n.value,"onUpdate:code":r[0]||(r[0]=C=>n.value=C),config:d(p),theme:d(f).darkTheme?"dark":"light",onChange:b},O({footer:v(()=>[o("div",E,[o("div",T,h(t.title?`\u6570\u636E\u540D\u79F0\uFF1A${t.title}`:""),1),o("div",V,[o("div",{class:I(["saved-status",s.value?"save":"unsave"])},h(s.value?"\u5DF2\u4FDD\u5B58":"\u672A\u4FDD\u5B58"),3),W])])]),_:2},[t.mode==="debug"?{name:"tool-bar",fn:v(()=>[o("div",A,[l(u,{class:"item button",name:"save-one",onClick:k}),l(u,{class:"item button",name:"back",onClick:S}),l(u,{class:"item button",name:"next",onClick:g})])]),key:"0"}:void 0]),1032,["code","config","theme"])}}});const L=U(G,[["__scopeId","data-v-98730a38"]]);export{L as v};
