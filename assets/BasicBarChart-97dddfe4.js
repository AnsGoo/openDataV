import{u as h}from"./hooks-8a41df44.js";import{c as C}from"./utils-ac153957.js";import{d as _,e as v,X as g,f as w,h as O,w as N,u as S,o as A,c as D}from"./index-48fbbfb5.js";const B=_({__name:"BasicBarChart",props:{component:{}},setup(d){const l=d,n=v(null);let t;const{useProp:c,useData:f}=g("HOOKS")||{};let r=[];const y=(a,s)=>{a.status>=0&&(r=a.afterData,u(r))};f&&f(l.component,y);let e;const b=(...a)=>{u(r)};if(c){const{propValue:a}=c(l.component,b);e=a}const{updateEchart:p,resizeHandler:L}=h(n);w(async()=>{t=x(),p(t)});const x=()=>{const a={grid:{top:"10%",left:"3%",right:"4%",bottom:"10%",containLabel:!0},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[],splitLine:{show:e.axis.xshow,lineStyle:{type:e.axis.xLineType,color:e.axis.xAxisLineColor}},axisLine:{lineStyle:{color:e.axis.axisColor||"#fff"}},axisTick:{lineStyle:{color:e.axis.axisColor||"#fff"}},axisLabel:{color:e.axis.axisLabelColor||"#fff"}},yAxis:{type:"value",max:i=>e.data.max==="dataMax"||!e.data.max?i.max+Number(e.data.maxOffset||0):Number(e.data.max)+Number(e.data.maxOffset||0),min:i=>e.data.min==="dataMin"?i.min-Number(e.data.minOffset||0):["",void 0,null].includes(e.data.min)?0-Number(e.data.minOffset||0):Number(e.data.min)-Number(e.data.minOffset||0),splitLine:{show:e.axis.yshow,lineStyle:{type:e.axis.yLineType,color:e.axis.yAxisLineColor}},axisLine:{lineStyle:{color:e.axis.axisColor||"#fff"}},axisTick:{lineStyle:{color:e.axis.axisColor||"#fff"}},axisLabel:{color:e.axis.axisLabelColor||"#fff"}},series:[]};let s=[{data:[],type:"bar"}];return a.series=s,a},u=a=>{const s=e.data.upperLimit,i=e.data.lowerLimit,m=a.map(o=>({value:C(Number(o.value),s,i),label:o.label}));t=x(),t.series[0].data=m.map(o=>o.value),t.xAxis={...t.xAxis,data:m.map(o=>o.label)},p(t)};return(a,s)=>{const i=O("resize");return N((A(),D("div",{ref_key:"chartEl",ref:n},null,512)),[[i,S(L)]])}}});export{B as default};
