var R=Object.defineProperty,z=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var N=(l,s,o)=>s in l?R(l,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[s]=o,X=(l,s)=>{for(var o in s||(s={}))M.call(s,o)&&N(l,o,s[o]);if(E)for(var o of E(s))G.call(s,o)&&N(l,o,s[o]);return l},O=(l,s)=>z(l,B(s));var Y=(l,s,o)=>new Promise((v,g)=>{var A=r=>{try{p(o.next(r))}catch(e){g(e)}},P=r=>{try{p(o.throw(r))}catch(e){g(e)}},p=r=>r.done?v(r.value):Promise.resolve(r.value).then(A,P);p((o=o.apply(l,s)).next())});import{u as H}from"./index.f9a5bc2d.js";import{u as I}from"./index.2f91056b.js";import{c as j}from"./utils.fc532f69.js";import{u as q,e as w,r as _,L as D}from"./hooks.09395f25.js";import{d as F,r as J,a as K,e as Q,w as U,u as W,o as Z,c as $}from"./index.e53ce348.js";const ne=F({__name:"StereoscopicBarChart",props:{component:null},setup(l){const s=l;let o,v=[];const g=(c,f)=>{c.status>=0&&(v=c.afterData,V(v))};I(s.component,g);const A=()=>{V(v)},P=J(),{updateEchart:p,resizeHandler:r}=q(P),{propValue:e}=H(s.component,A);K(()=>Y(this,null,function*(){k(),o=S(),p(o)}));function k(){const t=w({shape:{x:0,y:0},buildPath(h,a){var y,b,C,T;const n=a.xAxisPoint,u=[a.x,a.y],x=[a.x-10,a.y-5],m=[n[0]-10,n[1]-5],d=[n[0],n[1]];(T=(C=(b=(y=h.moveTo(u[0],u[1]))==null?void 0:y.lineTo(x[0],x[1]))==null?void 0:b.lineTo(m[0],m[1]))==null?void 0:C.lineTo(d[0],d[1]))==null||T.closePath()}}),i=w({shape:{x:0,y:0},buildPath:function(h,a){var y,b,C,T;const n=a.xAxisPoint,u=[a.x,a.y],x=[n[0],n[1]],m=[n[0]+10,n[1]-5],d=[a.x+10,a.y-5];(T=(C=(b=(y=h.moveTo(u[0],u[1]))==null?void 0:y.lineTo(x[0],x[1]))==null?void 0:b.lineTo(m[0],m[1]))==null?void 0:C.lineTo(d[0],d[1]))==null||T.closePath()}}),L=w({shape:{x:0,y:0},buildPath:function(h,a){var d,y,b,C;const n=[a.x,a.y],u=[a.x+10,a.y-5],x=[a.x,a.y-10],m=[a.x-10,a.y-5];(C=(b=(y=(d=h.moveTo(n[0],n[1]))==null?void 0:d.lineTo(u[0],u[1]))==null?void 0:y.lineTo(x[0],x[1]))==null?void 0:b.lineTo(m[0],m[1]))==null||C.closePath()}});_("CubeLeft",t),_("CubeRight",i),_("CubeTop",L)}const S=()=>{const c={grid:{top:"10%",left:"3%",right:"4%",bottom:"10%",containLabel:!0},backgroundColor:"transparent",tooltip:{trigger:"axis"},xAxis:{type:"category",data:[],splitLine:{show:e.axis.xshow,lineStyle:{type:e.axis.xLineType,color:e.axis.xAxisLineColor}},axisLine:{lineStyle:{color:e.axis.axisColor||"#fff"}},axisTick:{lineStyle:{color:e.axis.axisColor||"#fff"}},axisLabel:{color:e.axis.axisLabelColor||"#fff"}},yAxis:{type:"value",max:f=>e.data.max==="dataMax"||!e.data.max?f.max+Number(e.data.maxOffset||0):Number(e.data.max)+Number(e.data.maxOffset||0),min:f=>e.data.min==="dataMin"?f.min-Number(e.data.minOffset||0):e.data.min===""||e.data.min===void 0?0-Number(e.data.minOffset||0):Number(e.data.min)-Number(e.data.minOffset||0),splitLine:{show:e.axis.yshow,lineStyle:{type:e.axis.yLineType,color:e.axis.yAxisLineColor}},axisLine:{lineStyle:{color:e.axis.axisColor||"#fff"}},axisTick:{lineStyle:{color:e.axis.axisColor||"#fff"}},axisLabel:{color:e.axis.axisLabelColor||"#fff"}}};return c.series=[{type:"custom",renderItem(f,t){if(!(t!=null&&t.value))return null;const i=t.coord([t.value(0),t.value(1)]);return{type:"group",children:[{type:"CubeLeft",shape:{api:t,xValue:t.value(0),yValue:t.value(1),x:i[0],y:i[1],xAxisPoint:t.coord([t.value(0),0])},buildPath(){},style:{fill:new D(0,0,0,1,[{offset:0,color:e.label.axisLabelColor||"#3DE7C9"}])}},{type:"CubeRight",shape:{api:t,xValue:t.value(0),yValue:t.value(1),x:i[0],y:i[1],xAxisPoint:t.coord([t.value(0),0])},style:{fill:new D(0,0,0,1,[{offset:0,color:e.label.axisLabelColor||"#3DE7C9"}])}},{type:"CubeTop",shape:{api:t,xValue:t.value(0),yValue:t.value(1),x:i[0],y:i[1],xAxisPoint:t.coord([t.value(0),0])},style:{fill:new D(0,0,0,1,[{offset:0,color:e.label.axisLabelColor||"#3DE7C9"}])}}]}}}],c},V=c=>{const f=e.data.upperLimit,t=e.data.lowerLimit,i=c.map(L=>({value:j(Number(L.value),f,t),label:L.label}));o=S(),o.series[0].data=i,o.xAxis=O(X({},o.xAxis),{data:i.map(L=>L.label)}),p(o)};return(c,f)=>{const t=Q("resize");return U((Z(),$("div",{ref_key:"chartEl",ref:P},null,512)),[[t,W(r)]])}}});export{ne as default};
