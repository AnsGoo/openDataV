var C=Object.defineProperty;var v=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var _=(n,a,e)=>a in n?C(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e,f=(n,a)=>{for(var e in a||(a={}))E.call(a,e)&&_(n,e,a[e]);if(v)for(var e of v(a))x.call(a,e)&&_(n,e,a[e]);return n};var m=(n,a,e)=>new Promise((i,u)=>{var d=s=>{try{c(e.next(s))}catch(o){u(o)}},g=s=>{try{c(e.throw(s))}catch(o){u(o)}},c=s=>s.done?i(s.value):Promise.resolve(s.value).then(d,g);c((e=e.apply(n,a)).next())});import{C as z}from"./ComponentWrapper.d0bf9a58.js";import{g as D}from"./pages.35c0b64b.js";import{d as P,r as y,i as h,H as w,Y as B,Z as F,a as V,v as A,$ as I,o as p,c as S,b as L,F as H,e as R,A as W,l as k,u as b,a0 as q,_ as M}from"./index.16fa4e54.js";import"./index.45df55c0.js";const N=P({__name:"PageView",setup(n){const a=y([]),e=y({width:0,height:0,scale:0,image:"",color:"#084860"}),i=h(()=>{const t={backgroundImage:e.value.image,backgroundSize:"cover",backgroundColor:e.value.color||"#084860"};return w(t,["backgroundImage","backgroundSize","backgroundColor"])}),u=h(()=>{const t=f({},e.value);return w(t,["width","height"])}),d=B(),g=F(),c=t=>m(this,null,function*(){console.log("\u52A0\u8F7D\u901A\u7528\u7EC4\u4EF6");try{const r=yield D(t);s(r.data)}catch(r){g.push({name:"Error"})}}),s=t=>{t.canvasStyle&&(e.value=t.canvasStyle),t.canvasData&&(a.value=t.canvasData.map(r=>q(r))),o()};V(()=>m(this,null,function*(){yield c(d.params.index),window.addEventListener("resize",o)})),A(()=>{window.removeEventListener("resize",o)});const o=()=>{const t=document.querySelector(".screen");if(t){const r=e.value.width,l=e.value.height;I(t,r,l)}};return(t,r)=>(p(),S("div",{class:"bg",style:k(b(i))},[L("div",{style:k(b(u)),ref:"screen",class:"screen"},[(p(!0),S(H,null,R(a.value,l=>(p(),W(z,{key:l.id,component:l},null,8,["component"]))),128))],4)],4))}});const G=M(N,[["__scopeId","data-v-44fa87fd"]]);export{G as default};
