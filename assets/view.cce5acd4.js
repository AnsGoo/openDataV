import{e as k}from"./Editor.f3efaff1.js";import{d as x,r as i,a7 as y,i as D,q as B,a8 as w,o as N,y as O,a9 as J,z as v,b as a,v as d,t as h,n as I,u as l,Q as m,p as j,j as z,_ as R}from"./index.b10b5c98.js";const U=t=>(j("data-v-a2e175b4"),t=t(),z(),t),A={class:"buttons"},E={class:"footer"},T={class:"left"},V={class:"right"},W=U(()=>a("div",{class:"lang"},"JSON",-1)),q=x({__name:"view",props:{content:{default:""},title:{default:""},mode:{default:"use"},height:{default:"600px"}},emits:["update:content"],setup(t,{emit:_}){const o=t,s=i(!0),f=y(),p=D(()=>({height:o.height,tabSize:4,indentWithTab:!0,autofocus:!0,disabled:o.mode!=="debug"})),c=i(null),g=()=>{const e=c.value.handleRedo;e&&e()},S=()=>{const e=c.value.handleUndo;e&&e()},n=i(JSON.stringify(o.content,null,"	")),b=e=>{s.value=!1},C=()=>{try{_("update:content",JSON.parse(n.value)),s.value=!0,m.success("\u4FDD\u5B58\u6210\u529F")}catch(e){console.log(e),m.warning("\u6570\u636E\u5FC5\u987B\u7B26\u5408JSON\u683C\u5F0F")}};return B(()=>o.content,()=>{n.value=JSON.stringify(o.content,null,"	")}),(e,r)=>{const u=w("x-icon");return N(),O(l(k),{ref_key:"cm",ref:c,code:n.value,"onUpdate:code":r[0]||(r[0]=F=>n.value=F),config:l(p),theme:l(f).darkTheme?"dark":"light",onChange:b},J({footer:v(()=>[a("div",E,[a("div",T,h(t.title?`\u6570\u636E\u540D\u79F0\uFF1A${t.title}`:""),1),a("div",V,[a("div",{class:I(["saved-status",s.value?"save":"unsave"])},h(s.value?"\u5DF2\u4FDD\u5B58":"\u672A\u4FDD\u5B58"),3),W])])]),_:2},[t.mode==="debug"?{name:"tool-bar",fn:v(()=>[a("div",A,[d(u,{class:"item button",name:"save",onClick:C}),d(u,{class:"item button",name:"back",onClick:S}),d(u,{class:"item button",name:"next",onClick:g})])]),key:"0"}:void 0]),1032,["code","config","theme"])}}});const $=R(q,[["__scopeId","data-v-a2e175b4"]]);export{$ as v};
