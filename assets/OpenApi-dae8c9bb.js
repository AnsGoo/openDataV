import{d as a,r as e,p as t,a7 as l,o as s,c as n,w as i,a as c,u,v as d,F as o,E as r,a8 as p,f as m,az as _,g as v,e as f,aa as h,L as y,at as b,aZ as T,aq as g,ab as w,D as x,t as S,bQ as k,N as E,b as C,bH as R,bG as I,y as j}from"./index-40170f2c.js";import{b as A,d as z,c as L,e as N,D,S as G}from"./DynamicExtendContent-0f0b8eac.js";import"./index-63f72026.js";import{N as Q}from"./Input-a9564eda.js";import{N as U,a as H,T as K}from"./Toolbar-9b72c1df.js";import{N as V,a as Y,b as Z,c as q}from"./li-47eba7d2.js";import{N as F}from"./Space-244346c3.js";import{_ as M}from"./UIView.vue_vue_type_script_setup_true_lang-8e463bee.js";import"./LogoView-3805b629.js";const O={class:"rest-detail"},P={class:"desc"},W={class:"rest-detail"},B={class:"desc"},J=a({__name:"Rest",setup(a){const g=e([]),w=e([]),x=async()=>{try{const a=await A();200===a.status&&(g.value=a.data)}catch(a){h.log(a||a.message)}},S=a=>{y.emit(b.REST_KEY,a)};t((async()=>{await x()}));const k=a=>[{text:"删除",subText:"",handler:()=>(async a=>{try{200===(await z(a)).status&&(T.success("删除成功"),await x())}catch(e){return}})(a)}];return(a,e)=>{const t=l("contextmenu");return s(),n(u(f),{title:"REST数据",size:"small"},{default:i((()=>[c(u(Q),{placeholder:"请输入搜索条件"}),c(u(U),null,{default:i((()=>[c(u(H),{name:"REST数据"},{default:i((()=>[c(u(V),{"align-text":""},{default:i((()=>[(s(!0),d(o,null,r(g.value,(a=>p((s(),n(u(Y),{key:a.id,class:"data-item",onClick:e=>S(a.id)},{default:i((()=>[m("div",O,[m("div",P,_(a.name),1),m("div",null,[c(u(Z),{type:"success",style:{"font-weight":"800"}},{default:i((()=>[v(_(a.method),1)])),_:2},1024),v(" "+_(a.url),1)])])])),_:2},1032,["onClick"])),[[t,()=>k(a.id)]]))),128))])),_:1})])),_:1}),c(u(H),{name:"最近使用"},{default:i((()=>[c(u(V),{"align-text":""},{default:i((()=>[(s(!0),d(o,null,r(w.value,(a=>p((s(),n(u(Y),{key:a.id,class:"data-item",onClick:e=>S(a.id)},{default:i((()=>[m("div",W,[m("div",B,_(a.name),1),m("div",null,[c(u(Z),{type:"success",style:{"font-weight":"800"}},{default:i((()=>[v(_(a.method),1)])),_:2},1024),v(" "+_(a.url),1)])])])),_:2},1032,["onClick"])),[[t,()=>(a.id,[{text:"清除",subText:"",handler:()=>{}}])]]))),128))])),_:1})])),_:1})])),_:1})])),_:1})}}}),X=a({__name:"Static",setup(a){const m=e([]),g=e([]),w=async()=>{try{const a=await L();200===a.status&&(g.value=a.data)}catch(a){h.log(a||a.message)}},x=a=>{y.emit(b.STATIC_KEY,a)};t((async()=>{await w()}));const S=a=>[{text:"删除",subText:"",handler:()=>(async a=>{try{200===(await N(a)).status&&(T.success("删除成功"),await w())}catch(e){return}})(a)}];return(a,e)=>{const t=l("contextmenu");return s(),n(u(f),{title:"静态数据",size:"small"},{default:i((()=>[c(u(Q),{placeholder:"请输入搜索条件"}),c(u(U),null,{default:i((()=>[c(u(H),{name:"静态数据"},{default:i((()=>[c(u(V),{"align-text":""},{default:i((()=>[(s(!0),d(o,null,r(g.value,(a=>p((s(),n(u(Y),{key:a.id,class:"data-item",onClick:e=>x(a.id)},{default:i((()=>[c(u(F),null,{default:i((()=>[v(_(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[t,()=>S(a.id)]]))),128))])),_:1})])),_:1}),c(u(H),{name:"最近使用"},{default:i((()=>[c(u(V),{"align-text":""},{default:i((()=>[(s(!0),d(o,null,r(m.value,(a=>(s(),n(u(Y),{key:a.id,class:"data-item",onClick:e=>x(a.id)},{default:i((()=>[c(u(F),null,{default:i((()=>[v(_(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})}}}),$=a({props:{active:{type:String,default:"REST"}},setup:a=>()=>"REST"==a.active?c(J,null,null):"STATIC"==a.active?c(X,null,null):void 0}),aa={class:"sider-bar-item"},ea={class:"label"},ta=w(a({__name:"TypeItem",props:{icon:{},label:{}},setup:a=>(a,e)=>{const t=g("x-icon");return s(),d("div",aa,[c(t,{name:a.icon,class:"icon"},null,8,["name"]),m("span",ea,_(a.label),1)])}}),[["__scopeId","data-v-cd011a99"]]),la={class:"main"},sa=w(a({__name:"ApiType",emits:["change"],setup(a,{emit:t}){const l=[{label:"STATIC",icon:"data",key:"STATIC"},{label:"REST",icon:"http",key:"REST"},{label:"GraphQL",icon:"earth",key:"GRAPHQL"},{label:"实时",icon:"transform",key:"REALTIME"}],n=e("REST"),i=t,o=a=>{n.value=a,i("change",a)},r=x((()=>{const a=[];return l.forEach((e=>{a.push({key:e.key,icon:()=>S(ta,{icon:e.icon,label:e.label})})})),a}));return(a,e)=>(s(),d("div",la,[c(u(k),{value:n.value,"onUpdate:value":[e[0]||(e[0]=a=>n.value=a),o],options:r.value,class:"sider-bar-item",collapsed:!1,"icon-size":30},null,8,["value","options"])]))}}),[["__scopeId","data-v-1ad4efd1"]]),na=a({props:{active:{type:String,default:"UI"}},setup:a=>()=>"REST"==a.active?c(D,{mode:"debug"},null):"STATIC"==a.active?c(G,{mode:"debug"},null):c(M,null,null)}),ia=w(a({__name:"OpenApi",setup(a){const t=e(!1),d=e(0),o=e(0),r=x((()=>({width:d.value+"px",height:o.value+"px"}))),m=e("REST"),_=a=>{m.value=a},v=a=>{const{width:e,height:t}=a.contentRect;d.value=e,o.value=t};return(a,e)=>{const d=l("resize");return s(),n(u(C),{class:"home"},{default:i((()=>[c(u(E),{class:"header"},{default:i((()=>[c(u(K))])),_:1}),c(u(C),{"has-sider":"",class:"main"},{default:i((()=>[c(u(R),{class:"left",width:400,collapsed:!0,"native-scrollbar":!1,"collapsed-width":80,bordered:"","collapse-mode":"width"},{default:i((()=>[c(u(sa),{onChange:_})])),_:1}),c(u(C),{"has-sider":"","sider-placement":"right"},{default:i((()=>[p((s(),n(u(I),{class:"content"},{default:i((()=>[c(u(q),{"x-scrollable":"",style:j(r.value)},{default:i((()=>[c(u(na),{active:m.value},null,8,["active"])])),_:1},8,["style"])])),_:1})),[[d,v]]),c(u(R),{class:"right",width:"240",collapsed:t.value,"native-scrollbar":!1,bordered:"","collapsed-width":35,"collapse-mode":"width","show-trigger":"arrow-circle",onCollapse:e[0]||(e[0]=a=>t.value=!0),onExpand:e[1]||(e[1]=a=>t.value=!1)},{default:i((()=>[c(u($),{active:m.value},null,8,["active"])])),_:1},8,["collapsed"])])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-479dbc73"]]);export{ia as default};
