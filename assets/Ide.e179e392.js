var m=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var u=(s,a)=>{var t={};for(var e in s)w.call(s,e)&&a.indexOf(e)<0&&(t[e]=s[e]);if(s!=null&&m)for(var e of m(s))a.indexOf(e)<0&&C.call(s,e)&&(t[e]=s[e]);return t};var l=(s,a,t)=>new Promise((e,d)=>{var i=o=>{try{n(t.next(o))}catch(c){d(c)}},r=o=>{try{n(t.throw(o))}catch(c){d(c)}},n=o=>o.done?e(o.value):Promise.resolve(o.value).then(i,r);n((t=t.apply(s,a)).next())});import{f,a5 as E,r as _,q as B,o as N,N as j,W as b,X as v,K as y,P as S,u as T,j as V}from"./@vue.f8650cf9.js";import{C as g,E as h,b as I,o as W,k as z,s as H,i as K,a as M,p as U,c as $,d as q}from"./@codemirror.dadb99bb.js";import{_ as k}from"./index.ef2789db.js";import{B as D}from"./naive-ui.2edb364b.js";import"./@lezer.4babb687.js";import"./crelt.67277586.js";import"./style-mod.a2e40363.js";import"./w3c-keyname.74927781.js";import"./vue-router.32a64423.js";import"./pinia.30c42674.js";import"./vue-demi.b3a9cad9.js";import"./mitt.550594b0.js";import"./lodash-es.5f1bdab1.js";import"./dexie.78e6a997.js";import"./nprogress.5f640c6a.js";import"./@icon-park.f4b03c54.js";import"./date-fns.3ef01b04.js";import"./seemly.5d1c4af6.js";import"./vueuc.ebfd6ddc.js";import"./evtd.79485e8d.js";import"./@css-render.7ab96087.js";import"./vooks.ee7b0837.js";import"./vdirs.8ff5d312.js";import"./@juggle.37ed2144.js";import"./css-render.d5050412.js";import"./@emotion.6322e2ae.js";import"./treemate.80cdf2c2.js";import"./async-validator.fb49d0f5.js";const O=f({props:{code:{default:"import os"},initHeight:{default:"890px"}},emits:["update:code","change"],setup(s,{emit:a}){const t=s;E(o=>({"4e71eb12":o.$props.initHeight}));const e=_(null);let d=new g,i=new g,r,n=h.create({doc:t.code,extensions:[I,W,z.of([...H,K,{key:"Tab",run:M}]),d.of(U()),$({activateOnTyping:!0}),i.of(h.tabSize.of(4))]});return B(()=>{r=new q({state:n,parent:e.value,dispatch:o=>{if(r.update([o]),o.changes.empty)return;const c=r.state.doc.toString();a("update:code",c),a("change",c)}})}),N(()=>r.destroy()),(o,c)=>(j(),b("div",{ref:(p,x)=>{x.codemirror=p,e.value=p},class:"codemirror"},null,512))}});var P=k(O,[["__scopeId","data-v-b54fe81e"]]);const R={class:"ide"},X=V("Run"),A=f({setup(s){const a=new Worker("/webworker/index.js");a.onmessage=d=>{const n=d.data,{id:i}=n,r=u(n,["id"]);console.log(i),console.log(r)};const t=_(""),e=()=>l(this,null,function*(){const d=1;yield a.postMessage({id:d,python:t.value})});return(d,i)=>(j(),b("div",R,[v("div",null,[y(P,{code:t.value,"onUpdate:code":i[0]||(i[0]=r=>t.value=r)},null,8,["code"])]),v("div",null,[y(T(D),{onClick:e,type:"primary",round:""},{default:S(()=>[X]),_:1})])]))}});var ke=k(A,[["__scopeId","data-v-6ba9945a"]]);export{ke as default};
