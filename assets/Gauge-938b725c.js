import{d as x,e as o,f as C,I as N,J as $,h as T,w as M,o as c,c as u,n as V,a,F as z,i as B,t as f,C as D,_ as S}from"./index-3ca9a95a.js";import{u as E}from"./index-c01320d9.js";const F={class:"dv-decoration-9"},G=["stroke"],I=["dur"],R=["stroke"],A=["dur"],H=["stroke"],J=["xlink:href","stroke","fill"],L=["dur","begin"],P=["stroke"],v="decoration-9-polygon",j=x({__name:"Gauge",props:{component:{}},setup(m){const p=m,g=D(),k=(t,e)=>{t.length===2&&(t[0]==="attr"&&t[1]==="color1"&&(s.value[0]=e),t[0]==="attr"&&t[1]==="color2"&&(s.value[1]=e),t[0]==="attr"&&t[1]==="unit"&&(_.value=e))},{propValue:r}=E(p.component,k),s=o([r.attr.color1,r.attr.color2]),n=o(3),i=o(0),d=o([1,1]),_=o(r.attr.unit||""),y=t=>{const e=t.contentRect,l=Math.min(e.width/100,e.height/100);d.value=[l,l]},b=t=>{const e=t;r.data.datatag&&e.TagName===r.data.datatag&&(i.value=Number(e.TagValue))};C(async()=>{await w()});const w=async()=>{if(r.data.history)try{const t=await N.post({url:r.data.history,data:[r.data.datatag]});t.status===200&&(i.value=Number(t.data.TagValue))}catch(t){console.log(t.message||t)}g.isEditMode&&(i.value=Number((Math.random()*100).toFixed(2)))};return $("actual",b),(t,e)=>{const l=T("resize");return M((c(),u("div",F,[(c(),u("svg",{width:"100",height:"100",style:V(`transform: scale(${d.value[0]}, ${d.value[1]})`)},[a("defs",null,[a("polygon",{id:v,points:"15, 46.5, 21, 47.5, 21, 52.5, 15, 53.5"})]),a("circle",{cx:"50",cy:"50",r:"45",fill:"transparent",stroke:s.value[1],"stroke-width":"10","stroke-dasharray":"80, 100, 30, 100"},[a("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;360 50 50",dur:`${n.value}s`,repeatCount:"indefinite"},null,8,I)],8,G),a("circle",{cx:"50",cy:"50",r:"45",fill:"transparent",stroke:s.value[0],"stroke-width":"6","stroke-dasharray":"50, 66, 100, 66"},[a("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;-360 50 50",dur:`${n.value}s`,repeatCount:"indefinite"},null,8,A)],8,R),a("circle",{cx:"50",cy:"50",r:"38",fill:"transparent",stroke:s.value[1],"stroke-width":"1","stroke-dasharray":"5, 1"},null,8,H),(c(!0),u(z,null,B(new Array(20).fill(0),(q,h)=>(c(),u("use",{key:h,"xlink:href":`#${v}`,stroke:s.value[1],fill:Math.random()>.4?"transparent":s.value[0]},[a("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;360 50 50",dur:`${n.value}s`,begin:`${h*n.value/20}s`,repeatCount:"indefinite"},null,8,L)],8,J))),128)),a("circle",{cx:"50",cy:"50",r:"26",fill:"transparent",stroke:s.value[1],"stroke-width":"1","stroke-dasharray":"5, 1"},null,8,P)],4)),a("div",null,f(i.value)+f(_.value),1)])),[[l,y]])}}});const U=S(j,[["__scopeId","data-v-95e69bbc"]]);export{U as default};
