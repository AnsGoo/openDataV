import{d as z,X as G,l,o as n,c as o,F as p,i as h,j as g,Y as _,C as I,Z as M,y as r,n as d,u,x as R,$ as C,z as V,A,B as F,D as S,_ as H}from"./index-48fbbfb5.js";import{S as K}from"./Shape-70dc7c4e.js";import"./shape.module-52bdef3b.js";const L={key:0,class:"group"},N=z({__name:"Group",props:{component:{}},setup(v){const s=v,k=(t,O)=>{if(t.status>=0){const e=t.afterData,c=s.component.propValue,y=c.dataOption.channel,m=y||s.component.id;if(c.isRegExp){const b=Object.keys(M),j=new RegExp(m);b.forEach(f=>{j.test(f)&&_.on(f,e)})}else _.on(m,e)}},{useData:i}=G("HOOKS")||{};i&&i(s.component,k);const a=I(),x=l(()=>a.isEditMode),w=l(()=>a.curComponent),E=l(()=>{let t=a.curComponent;for(;t;){if(t.parent?.id===s.component.id)return!0;t=t.parent}return!1}),B=t=>!(a.isEditMode&&!t),D=t=>t.groupStyle?.gheight?S(t.groupStyle,["gtop","gleft","gwidth","gheight","grotate"]):S(t.style,["top","left","width","height","rotate"]);return(t,O)=>x.value?(n(),o("div",{key:1,class:g(["group",{dotted:E.value}])},[(n(!0),o(p,null,h(t.component.subComponents,(e,c)=>(n(),o(p,{key:e.id},[B(e.display)?(n(),r(u(K),{key:0,id:"shape"+e.id,defaultStyle:e.style,style:d(D(e)),active:e.id===(w.value||{}).id,info:e,class:g({lock:e.locked}),isInner:!0,index:c},{default:V(()=>[(n(),r(C(e.component),{id:"component"+e.id,class:"component",style:d(u(A)(e)),component:e},null,8,["id","style","component"]))]),_:2},1032,["id","defaultStyle","style","active","info","class","index"])):F("",!0)],64))),128))],2)):(n(),o("div",L,[(n(!0),o(p,null,h(t.component.subComponents,e=>(n(),r(C(e.component),{key:e.id,id:"component"+e.id,class:"component",style:d(u(R)(e)),component:e},null,8,["id","style","component"]))),128))]))}});const $=H(N,[["__scopeId","data-v-232c43d4"]]);export{$ as default};
