var D=Object.defineProperty;var g=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var m=(s,a,e)=>a in s?D(s,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[a]=e,l=(s,a)=>{for(var e in a||(a={}))C.call(a,e)&&m(s,e,a[e]);if(g)for(var e of g(a))x.call(a,e)&&m(s,e,a[e]);return s};var S=(s,a,e)=>new Promise((i,o)=>{var u=n=>{try{c(e.next(n))}catch(t){o(t)}},d=n=>{try{c(e.throw(n))}catch(t){o(t)}},c=n=>n.done?i(n.value):Promise.resolve(n.value).then(u,d);c((e=e.apply(s,a)).next())});import{C as B}from"./ComponentWrapper.42fdf014.js";import{d as z,c6 as E,v as L,i as v,r as b,bi as W,ax as h,a as P,y as q,bk as F,o as _,c as k,b as I,F as O,e as G,G as H,u as y,q as f,_ as M}from"./index.b2f7e009.js";const N=z({__name:"Preview",setup(s){const a=E(),e=L(),i=v(()=>e.componentData),o=b({width:0,height:0,background:{backgroundColor:"#272e3b"}}),u=b(null),d=v(()=>{const t=W(o.value.background),r=l(l({},o.value),t);return h(r,["backgroundImage","backgroundSize","backgroundColor"])}),c=v(()=>{const t=l({},o.value);return h(t,["width","height"])});P(()=>S(this,null,function*(){const t=yield a.latestRecord();t&&e.setLayoutData({canvasData:t.canvasData,canvasStyle:t.canvasStyle}),o.value=e.canvasStyleData,n(),window.addEventListener("resize",n)})),q(()=>{window.removeEventListener("resize",n)});const n=()=>{const t=document.querySelector(".screen");if(t){const r=o.value.width,p=o.value.height;F(t,r,p)}};return(t,r)=>(_(),k("div",{class:"bg",style:f(y(d))},[I("div",{ref_key:"screen",ref:u,style:f(y(c)),class:"screen"},[(_(!0),k(O,null,G(y(i),(p,w)=>(_(),H(B,{key:w,component:p},null,8,["component"]))),128))],4)],4))}});const V=M(N,[["__scopeId","data-v-481032b1"]]);export{V as default};
