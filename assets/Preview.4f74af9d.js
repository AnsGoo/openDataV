var f=Object.defineProperty,w=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var p=(n,t,e)=>t in n?f(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,m=(n,t)=>{for(var e in t||(t={}))k.call(t,e)&&p(n,e,t[e]);if(u)for(var e of u(t))D.call(t,e)&&p(n,e,t[e]);return n},v=(n,t)=>w(n,b(t));var _=(n,t,e)=>new Promise((i,o)=>{var l=s=>{try{a(e.next(s))}catch(c){o(c)}},r=s=>{try{a(e.throw(s))}catch(c){o(c)}},a=s=>s.done?i(s.value):Promise.resolve(s.value).then(l,r);a((e=e.apply(n,t)).next())});import{C as z}from"./ComponentWrapper.e2578e22.js";import{d as x,bo as B,u as C,c as g,A as E,k as L,C as W,N as I,$ as P,o as d,b as S,F,r as O,e as q,a as h,f as A,_ as H}from"./index.a2bd6492.js";const M=x({__name:"Preview",setup(n){const t=B(),e=C(),i=g(()=>e.componentData),o=E({width:0,height:0,scale:0,image:""}),l=g(()=>{const a=v(m({},o.value),{backgroundImage:o.value.image,backgroundSize:"cover"});return L(a,["width","height","backgroundImage","backgroundSize"])});W(()=>_(this,null,function*(){const a=yield t.latestRecord();a&&e.setLayoutData({canvasData:a.canvasData,canvasStyle:a.canvasStyle}),o.value=e.canvasStyleData,r(),window.addEventListener("resize",r)})),I(()=>{window.removeEventListener("resize",r)});const r=()=>{const a=document.querySelector(".screen");if(a){const s=o.value.width,c=o.value.height;P(a,s,c)}};return(a,s)=>(d(),S("div",{class:"bg",style:A(h(l))},[(d(!0),S(F,null,O(h(i),(c,y)=>(d(),q(z,{key:y,component:c},null,8,["component"]))),128))],4))}});const $=H(M,[["__scopeId","data-v-dee305de"]]);export{$ as default};
