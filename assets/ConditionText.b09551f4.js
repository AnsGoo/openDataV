var g=(y,s,m)=>new Promise((x,d)=>{var r=a=>{try{i(m.next(a))}catch(l){d(l)}},n=a=>{try{i(m.throw(a))}catch(l){d(l)}},i=a=>a.done?x(a.value):Promise.resolve(a.value).then(r,n);i((m=m.apply(y,s)).next())});import{d as w,r as p,k as V,e as z,u as B,O as f,X as _,Z as E,a2 as $,G as H,$ as I,a6 as F,a5 as M}from"./@vue.a2815691.js";import{_ as O,u as R,b}from"./index.395efaf1.js";import{h as G}from"./index.a867692c.js";import"./vue-router.c997c3e8.js";import"./pinia.6e1173f7.js";import"./vue-demi.b3a9cad9.js";import"./mitt.550594b0.js";import"./naive-ui.6ffd8c7f.js";import"./date-fns.3c009aaa.js";import"./axios.744bc20e.js";import"./seemly.50a99b79.js";import"./vueuc.e50d3fb2.js";import"./evtd.9eee5233.js";import"./@css-render.8efa119b.js";import"./vooks.5c35c0ee.js";import"./vdirs.9c42edfb.js";import"./@juggle.37ed2144.js";import"./css-render.d5050412.js";import"./@emotion.6322e2ae.js";import"./treemate.80cdf2c2.js";import"./date-fns-tz.851ed5df.js";import"./async-validator.fb49d0f5.js";import"./lodash-es.5f1bdab1.js";import"./dexie.78e6a997.js";import"./nprogress.5b68415b.js";import"./@icon-park.b1426ebe.js";const L={key:0},W=["src"],X=w({__name:"ConditionText",props:{componentId:null,propValue:null},setup(y){const s=y;F(t=>({"79768a40":a.value,"8bd76fda":i.value,"09983b8b":h.value,a191f4f0:l.value}));const m=R(),x=p(null),d=V(()=>s.propValue.condition),r=p("text"),n=p("\u6D4B\u8BD5"),i=p("rgba(30, 144, 255, 1)"),a=p("20px"),l=p("contain"),C=V(()=>`icon iconfont ${n.value}`),N=t=>{v("1")},h=p("20px"),T=t=>{const e=t[0],{height:o}=e.contentRect;h.value=`${o}px`},k=t=>{const e=t;if(s.propValue.tagName&&e.TagName===s.propValue.tagName){const o=e.TagValue;v(o)}},v=t=>{for(let e of d.value)if(D(t,e.symbol,e.value)){n.value=e.displayContext,i.value=e.color,a.value=`${e.fontSize}px`,r.value=e.displayType,l.value=e.iconFit;return}n.value="",i.value="#ffffff",a.value="20px",r.value="text",l.value="contain"},D=(t,e,o)=>{let c=t,u=o;switch(Number(o).toString()!=="NaN"&&(c=Number(t),u=Number(o)),e){case"=":return c===u;case">":return c>u;case"<":return c<u;case">=":return c>=u;case"<=":return c<=u;case"!=":return c!=u;default:return!1}};m.isEditMode&&b(s.componentId,N),b("actual",k);const S=()=>g(this,null,function*(){d.value.length>0&&v(d.value[0].value);const t=s.propValue;try{const e=yield G.post({url:t.history,data:[t.tagName]});if(e.ErrorCode===200){const o=e.Results[0].TagValue;v(o)}}catch(e){console.log(e==null?void 0:e.message)}});return z(()=>g(this,null,function*(){yield S()})),(t,e)=>{const o=M("resize");return B((f(),_("div",{ref_key:"mainEl",ref:x,class:"main"},[r.value==="text"?(f(),_("span",L,E(n.value),1)):r.value==="symbol"?(f(),_("span",{key:1,class:$(H(C))},null,2)):r.value==="image"?(f(),_("img",{key:2,src:n.value},null,8,W)):I("",!0)])),[[o,T]])}}});var ye=O(X,[["__scopeId","data-v-76ed2ce0"]]);export{ye as default};
