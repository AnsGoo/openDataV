var C=Object.defineProperty;var y=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var g=(n,a,e)=>a in n?C(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e,l=(n,a)=>{for(var e in a||(a={}))D.call(a,e)&&g(n,e,a[e]);if(y)for(var e of y(a))B.call(a,e)&&g(n,e,a[e]);return n};var S=(n,a,e)=>new Promise((u,o)=>{var i=s=>{try{c(e.next(s))}catch(t){o(t)}},d=s=>{try{c(e.throw(s))}catch(t){o(t)}},c=s=>s.done?u(s.value):Promise.resolve(s.value).then(i,d);c((e=e.apply(n,a)).next())});import{C as x}from"./ComponentWrapper.9c597538.js";import{d as z,ca as E,m as L,i as v,r as b,bq as W,C as h,a as P,Z as q,bs as F,o as _,c as f,b as I,F as O,f as H,y as M,u as m,s as k,_ as N}from"./index.642367b9.js";const R=z({__name:"Preview",setup(n){const a=E(),e=L(),u=v(()=>e.componentData),o=b({width:0,height:0,background:{backgroundColor:"#272e3b"}}),i=b(null),d=v(()=>{const t=W(o.value.background),r=l(l({},o.value),t);return h(r,["backgroundImage","backgroundSize","backgroundColor"])}),c=v(()=>{const t=l({},o.value);return h(t,["width","height"])});P(()=>S(this,null,function*(){const t=yield a.latestRecord();t&&e.setLayoutData({canvasData:t.canvasData,canvasStyle:t.canvasStyle}),o.value=e.canvasStyleData,s(),window.addEventListener("resize",s)})),q(()=>{window.removeEventListener("resize",s)});const s=()=>{const t=document.querySelector(".screen");if(t){const r=o.value.width,p=o.value.height;F(t,r,p)}};return(t,r)=>(_(),f("div",{class:"bg",style:k(m(d))},[I("div",{ref_key:"screen",ref:i,style:k(m(c)),class:"screen"},[(_(!0),f(O,null,H(m(u),(p,w)=>(_(),M(x,{key:w,component:p},null,8,["component"]))),128))],4)],4))}});const Z=N(R,[["__scopeId","data-v-481032b1"]]);export{Z as default};
