import{d as e,r as a,p as o,a7 as i,a8 as t,u as l,o as s,v as r}from"./index-40170f2c.js";import{f as n}from"./index.esm-9bbe18d8.js";import{s as x}from"./index.esm-01328638.js";import{e as u,a as f,L as m}from"./index-8e2f4a84.js";import{u as p}from"./hooks-d0759a9a.js";import{c}from"./utils-d07d8869.js";const y=e({__name:"StereoscopicBarChart",props:{component:{}},setup(e){let y;const d=e;let b=[];n(d.component,((e,a)=>{"SUCCESS"===e.status&&(b=e.afterData,P(b))}));const h=a(null),{updateEchart:C,resizeHandler:v}=p(h),{propValue:L}=x(d.component,(()=>{P(b)}));o((async()=>{!function(){const e=10,a=5,o=u({shape:{x:0,y:0},buildPath(o,i){const t=i.xAxisPoint,l=[i.x,i.y],s=[i.x-e,i.y-a],r=[t[0]-e,t[1]-a],n=[t[0],t[1]];o.moveTo(l[0],l[1])?.lineTo(s[0],s[1])?.lineTo(r[0],r[1])?.lineTo(n[0],n[1])?.closePath()}}),i=u({shape:{x:0,y:0},buildPath:function(o,i){const t=i.xAxisPoint,l=[i.x,i.y],s=[t[0],t[1]],r=[t[0]+e,t[1]-a],n=[i.x+e,i.y-a];o.moveTo(l[0],l[1])?.lineTo(s[0],s[1])?.lineTo(r[0],r[1])?.lineTo(n[0],n[1])?.closePath()}}),t=u({shape:{x:0,y:0},buildPath:function(o,i){const t=[i.x,i.y],l=[i.x+e,i.y-a],s=[i.x,i.y-e],r=[i.x-e,i.y-a];o.moveTo(t[0],t[1])?.lineTo(l[0],l[1])?.lineTo(s[0],s[1])?.lineTo(r[0],r[1])?.closePath()}});f("CubeLeft",o),f("CubeRight",i),f("CubeTop",t)}(),y=T(),C(y)}));const T=()=>{const e={grid:{top:"10%",left:"3%",right:"4%",bottom:"10%",containLabel:!0},backgroundColor:"transparent",tooltip:{trigger:"axis"},xAxis:{type:"category",data:[],splitLine:{show:L.axis.xshow,lineStyle:{type:L.axis.xLineType,color:L.axis.xAxisLineColor}},axisLine:{lineStyle:{color:L.axis.axisColor||"#fff"}},axisTick:{lineStyle:{color:L.axis.axisColor||"#fff"}},axisLabel:{color:L.axis.axisLabelColor||"#fff"}},yAxis:{type:"value",max:e=>"dataMax"!==L.data.max&&L.data.max?Number(L.data.max)+Number(L.data.maxOffset||0):e.max+Number(L.data.maxOffset||0),min:e=>"dataMin"===L.data.min?e.min-Number(L.data.minOffset||0):""===L.data.min||void 0===L.data.min?0-Number(L.data.minOffset||0):Number(L.data.min)-Number(L.data.minOffset||0),splitLine:{show:L.axis.yshow,lineStyle:{type:L.axis.yLineType,color:L.axis.yAxisLineColor}},axisLine:{lineStyle:{color:L.axis.axisColor||"#fff"}},axisTick:{lineStyle:{color:L.axis.axisColor||"#fff"}},axisLabel:{color:L.axis.axisLabelColor||"#fff"}}};return e.series=[{type:"custom",renderItem(e,a){if(!a?.value)return null;const o=a.coord([a.value(0),a.value(1)]);return{type:"group",children:[{type:"CubeLeft",shape:{api:a,xValue:a.value(0),yValue:a.value(1),x:o[0],y:o[1],xAxisPoint:a.coord([a.value(0),0])},buildPath(){},style:{fill:new m(0,0,0,1,[{offset:0,color:L.label.axisLabelColor||"#3DE7C9"}])}},{type:"CubeRight",shape:{api:a,xValue:a.value(0),yValue:a.value(1),x:o[0],y:o[1],xAxisPoint:a.coord([a.value(0),0])},style:{fill:new m(0,0,0,1,[{offset:0,color:L.label.axisLabelColor||"#3DE7C9"}])}},{type:"CubeTop",shape:{api:a,xValue:a.value(0),yValue:a.value(1),x:o[0],y:o[1],xAxisPoint:a.coord([a.value(0),0])},style:{fill:new m(0,0,0,1,[{offset:0,color:L.label.axisLabelColor||"#3DE7C9"}])}}]}}}],e},P=e=>{const a=L.data.upperLimit,o=L.data.lowerLimit,i=(e||[]).map((e=>({value:c(Number(e.value),a,o),label:e.label})));y=T(),y.series[0].data=i,y.xAxis={...y.xAxis,data:i.map((e=>e.label))},C(y)};return(e,a)=>{const o=i("resize");return t((s(),r("div",{ref_key:"chartEl",ref:h},null,512)),[[o,l(v)]])}}});export{y as default};
