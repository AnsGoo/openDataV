import{d as e,r as a,p as t,a7 as s,a8 as o,u as r,o as l,v as i}from"./index-40170f2c.js";import{f as n}from"./index.esm-9bbe18d8.js";import{s as d}from"./index.esm-01328638.js";import{u as p}from"./hooks-d0759a9a.js";import{c as m}from"./utils-d07d8869.js";import"./index-8e2f4a84.js";const u=e({__name:"BasicPieChart",props:{component:{}},setup(e){const u=a(null);let b;const c=e,{updateEchart:h,resizeHandler:f}=p(u);let w=[];n(c.component,((e,a)=>{"SUCCESS"===e.status&&(w=e.afterData,v(w)),v(w)}));const{propValue:g}=d(c.component,(()=>{v(w)}));t((async()=>{b=S(),h(b)}));const S=()=>{const e={grid:{top:"10%",left:"3%",right:"4%",bottom:"0%",containLabel:!0},tooltip:{trigger:"item"},legend:{show:g.legend.isShow,top:"5%",left:"center"},series:[]};let a=[{type:"pie",radius:[`${g.series.radiusMin||0}%`,`${g.series.radiusMax||100}%`],avoidLabelOverlap:!0,itemStyle:{borderRadius:g.series.borderRadius,borderColor:"transparent",borderWidth:100},label:{show:!1,position:"center",color:g.label.labelColor},emphasis:{label:{show:g.label.isShow,fontSize:g.label.labelSize,fontWeight:g.label.labelWeight},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},labelLine:{show:!1},data:[]}];return e.series=a,e},v=e=>{const a=g.data.upperLimit,t=g.data.lowerLimit,s=(e||[]).map((e=>({value:m(Number(e.value),a,t),label:e.label})));b=S(),b.series[0].data=s.map((e=>({value:e.value,name:e.label}))),h(b)};return(e,a)=>{const t=s("resize");return o((l(),i("div",{ref_key:"chartEl",ref:u},null,512)),[[t,r(f)]])}}});export{u as default};
