var _=(n,d,s)=>new Promise((p,u)=>{var m=t=>{try{c(s.next(t))}catch(l){u(l)}},f=t=>{try{c(s.throw(t))}catch(l){u(l)}},c=t=>t.done?p(t.value):Promise.resolve(t.value).then(m,f);c((s=s.apply(n,d)).next())});import{a as N,d as S}from"./pages.7ae502e8.js";import{u as B}from"./vue-router.32a64423.js";import{_ as P,I as h,m as V}from"./index.ef2789db.js";import{B as w,S as E,g as F,p as D,y as L}from"./naive-ui.2edb364b.js";import{f as U,r as x,q as $,N as b,W as y,X as v,K as r,P as o,u as i,F as q,Z as T,j as k,Y as A,$ as K,a0 as M,h as R}from"./@vue.f8650cf9.js";import"./index.1f44d164.js";import"./axios.19d3e859.js";import"./lodash-es.5f1bdab1.js";import"./pinia.30c42674.js";import"./vue-demi.b3a9cad9.js";import"./mitt.550594b0.js";import"./dexie.78e6a997.js";import"./nprogress.5f640c6a.js";import"./@icon-park.f4b03c54.js";import"./date-fns.3ef01b04.js";import"./seemly.5d1c4af6.js";import"./vueuc.ebfd6ddc.js";import"./evtd.79485e8d.js";import"./@css-render.7ab96087.js";import"./vooks.ee7b0837.js";import"./vdirs.8ff5d312.js";import"./@juggle.37ed2144.js";import"./css-render.d5050412.js";import"./@emotion.6322e2ae.js";import"./treemate.80cdf2c2.js";import"./async-validator.fb49d0f5.js";var W="./assets/default.5fefac84.png";const X=n=>(K("data-v-586ad128"),n=n(),M(),n),Y={class:"container"},Z={class:"toolbar"},z=k(" \u65B0\u5EFA "),G=["src","onClick"],H={class:"options"},J=X(()=>v("span",null,"\u7F16\u8F91",-1)),O=U({setup(n){const d=B(),s=x(!1),p=x([]),u=[{key:"preview",label:"\u9884\u89C8",icon:m("preview-open")},{key:"delete",label:"\u5220\u9664",icon:m("delete-one")}];$(()=>_(this,null,function*(){yield f()}));function m(e){return()=>R(h,{name:e})}const f=()=>_(this,null,function*(){const e=yield N();e&&(p.value=e)}),c=(e,g)=>_(this,null,function*(){if(e==="preview")d.push({name:"PageView",params:{index:g.id}});else if(e==="delete")try{yield S(g.id),yield f()}catch(a){console.log((a==null?void 0:a.message)||a),V.error("\u5220\u9664\u5931\u8D25")}}),t=()=>{if(s.value)return!1;s.value=!0,d.push({name:"Create"})},l=e=>{if(s.value)return!1;s.value=!0,d.push({name:"Editor",params:{index:e.id}})},C=e=>{d.push({name:"PageView",params:{index:e.id}})},I=e=>e||W;return(e,g)=>(b(),y("div",Y,[v("div",Z,[r(i(w),{type:"primary",loading:s.value,onClick:t},{default:o(()=>[z]),_:1},8,["loading"])]),(b(!0),y(q,null,T(p.value,a=>(b(),y("div",{class:"card",key:a.id},[r(i(L),{key:a.id,hoverable:""},{header:o(()=>[r(i(E),{style:{"max-width":"8rem"}},{default:o(()=>[k(A(a.name),1)]),_:2},1024)]),action:o(()=>[v("div",H,[r(i(F),{trigger:"hover"},{trigger:o(()=>[r(i(w),{quaternary:"",onClick:j=>l(a)},{icon:o(()=>[r(i(h),{name:"editor"})]),_:2},1032,["onClick"])]),default:o(()=>[J]),_:2},1024),r(i(D),{trigger:"hover",onSelect:j=>c(j,a),options:u},{default:o(()=>[r(i(h),{name:"setting"})]),_:2},1032,["onSelect"])])]),default:o(()=>[v("img",{src:I(a.thumbnail),class:"image",onClick:j=>C(a),alt:""},null,8,G)]),_:2},1024)]))),128))]))}});var Ie=P(O,[["__scopeId","data-v-586ad128"]]);export{Ie as default};
