var w=Object.defineProperty,b=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var _=(n,a,e)=>a in n?w(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e,v=(n,a)=>{for(var e in a||(a={}))S.call(a,e)&&_(n,e,a[e]);if(p)for(var e of p(a))C.call(a,e)&&_(n,e,a[e]);return n},y=(n,a)=>b(n,k(a));var g=(n,a,e)=>new Promise((i,c)=>{var l=o=>{try{r(e.next(o))}catch(t){c(t)}},d=o=>{try{r(e.throw(o))}catch(t){c(t)}},r=o=>o.done?i(o.value):Promise.resolve(o.value).then(l,d);r((e=e.apply(n,a)).next())});import{C as E}from"./ComponentWrapper.a3cf7877.js";import{g as x}from"./pages.02ee7a2f.js";import{d as z,A as f,c as D,k as P,Y as F,Z as A,C as B,N as I,$ as L,o as m,b as h,F as V,r as R,e as W,f as q,a as H,a0 as M,_ as N}from"./index.1dcaaf11.js";import"./index.b703efc8.js";const U=z({__name:"PageView",setup(n){const a=f([]),e=f({width:0,height:0,scale:0,image:"",color:"#084860"}),i=D(()=>{const t=y(v({},e.value),{backgroundImage:e.value.image,backgroundSize:"cover",backgroundColor:e.value.color||"#084860"});return P(t,["width","height","backgroundImage","backgroundSize","backgroundColor"])}),c=F(),l=A(),d=t=>g(this,null,function*(){console.log("\u52A0\u8F7D\u901A\u7528\u7EC4\u4EF6");try{const s=yield x(t);r(s.data)}catch(s){l.push({name:"Error"})}}),r=t=>{t.canvasStyle&&(e.value=t.canvasStyle),t.canvasData&&(a.value=t.canvasData.map(s=>M(s))),o()};B(()=>g(this,null,function*(){yield d(c.params.index),window.addEventListener("resize",o)})),I(()=>{window.removeEventListener("resize",o)});const o=()=>{const t=document.querySelector(".screen");if(t){const s=e.value.width,u=e.value.height;L(t,s,u)}};return(t,s)=>(m(),h("div",{class:"bg",style:q(H(i))},[(m(!0),h(V,null,R(a.value,u=>(m(),W(E,{key:u.id,component:u},null,8,["component"]))),128))],4))}});const J=N(U,[["__scopeId","data-v-2b6a415c"]]);export{J as default};
