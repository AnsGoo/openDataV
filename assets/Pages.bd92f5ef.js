var f=(i,l,t)=>new Promise((p,d)=>{var m=r=>{try{c(t.next(r))}catch(u){d(u)}},_=r=>{try{c(t.throw(r))}catch(u){d(u)}},c=r=>r.done?p(r.value):Promise.resolve(r.value).then(m,_);c((t=t.apply(i,l)).next())});import{a as P,d as S}from"./pages.28de9e81.js";import{u as b}from"./vue-router.c997c3e8.js";import{_ as V,m as k,I as y}from"./index.512f7100.js";import{C as I,A as x,T as D,h as L,q as T}from"./naive-ui.3474528c.js";import{d as U,r as N,e as q,O as h,X as w,c as n,Q as o,G as s,F as A,_ as $,P as G,a as B,Z as M,Y as C,m as O,a0 as Q,a1 as R}from"./@vue.a2815691.js";import"./index.44c3d648.js";import"./axios.744bc20e.js";import"./lodash-es.5f1bdab1.js";import"./pinia.6e1173f7.js";import"./vue-demi.b3a9cad9.js";import"./mitt.550594b0.js";import"./dexie.78e6a997.js";import"./lodash.f91bfcd2.js";import"./nprogress.5b68415b.js";import"./@icon-park.b1426ebe.js";import"./date-fns.3c009aaa.js";import"./seemly.50a99b79.js";import"./vueuc.e50d3fb2.js";import"./evtd.9eee5233.js";import"./@css-render.8efa119b.js";import"./vooks.5c35c0ee.js";import"./vdirs.9c42edfb.js";import"./@juggle.37ed2144.js";import"./css-render.d5050412.js";import"./@emotion.6322e2ae.js";import"./treemate.80cdf2c2.js";import"./date-fns-tz.851ed5df.js";import"./async-validator.fb49d0f5.js";var X="./assets/default.5fefac84.png";const Y=i=>(Q("data-v-ecaeab62"),i=i(),R(),i),Z={class:"container"},j=B(" \u65B0\u5EFA "),z=["src","onClick"],H={class:"options"},J=Y(()=>C("span",null,"\u7F16\u8F91",-1)),K=U({__name:"Pages",setup(i){const l=b(),t=N(!1),p=N([]),d=[{key:"preview",label:"\u9884\u89C8",icon:m("preview-open")},{key:"delete",label:"\u5220\u9664",icon:m("delete-one")}];q(()=>f(this,null,function*(){yield _()}));function m(e){return()=>O(y,{name:e})}const _=()=>f(this,null,function*(){try{const e=yield P();e&&(p.value=e)}catch(e){k.error("\u9875\u9762\u6570\u636E\u8BF7\u6C42\u5F02\u5E38")}}),c=(e,g)=>f(this,null,function*(){if(e==="preview")l.push({name:"PageView",params:{index:g.id}});else if(e==="delete")try{yield S(g.id),yield _()}catch(a){console.log((a==null?void 0:a.message)||a),k.error("\u5220\u9664\u5931\u8D25")}}),r=()=>{if(t.value)return!1;t.value=!0,l.push({name:"Create"})},u=e=>{if(t.value)return!1;t.value=!0,l.push({name:"Editor",params:{index:e.id}})},E=e=>{l.push({name:"PageView",params:{index:e.id}})},F=e=>e||X;return(e,g)=>(h(),w("div",Z,[n(s(x),null,{default:o(()=>[n(s(I),{type:"primary",loading:t.value,onClick:r},{default:o(()=>[j]),_:1},8,["loading"])]),_:1}),(h(!0),w(A,null,$(p.value,a=>(h(),w("div",{class:"card",key:a.id},[(h(),G(s(x),{key:a.id,hoverable:""},{header:o(()=>[n(s(D),{style:{"max-width":"8rem"}},{default:o(()=>[B(M(a.name),1)]),_:2},1024)]),action:o(()=>[C("div",H,[n(s(L),{trigger:"hover"},{trigger:o(()=>[n(s(I),{quaternary:"",onClick:v=>u(a)},{icon:o(()=>[n(s(y),{name:"editor"})]),_:2},1032,["onClick"])]),default:o(()=>[J]),_:2},1024),n(s(T),{trigger:"hover",onSelect:v=>c(v,a),options:d},{default:o(()=>[n(s(y),{name:"setting"})]),_:2},1032,["onSelect"])])]),default:o(()=>[C("img",{src:F(a.thumbnail),class:"image",onClick:v=>E(a),alt:""},null,8,z)]),_:2},1024))]))),128))]))}});var Fe=V(K,[["__scopeId","data-v-ecaeab62"]]);export{Fe as default};
