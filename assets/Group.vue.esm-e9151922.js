import{d as e,B as t,C as o,D as n,o as s,v as a,F as l,E as i,c as p,w as c,G as d,y as u,u as r,H as m,I as y,J as f,K as g,L as v,W as h,M as S,z as k}from"./index-40170f2c.js";import{Y as C}from"./Shape.esm-d754d2c7.js";const E={key:0,class:"group"},x=k(e({__name:"Group",props:{component:{}},setup(e){const k=e,{useData:x}=t("HOOKS")||{};x&&x(k.component,((e,t)=>{if("SUCCESS"===e.status){const t=e.afterData,o=k.component.propValue,n=o.dataOption.channel||k.component.id;if(o.isRegExp){const e=Object.keys(S),o=new RegExp(n);e.forEach((e=>{o.test(e)&&v.on(e,t)}))}else v.on(n,t)}}));const b=o(),_=n((()=>b.isEditMode)),w=n((()=>b.activeComponent)),O=n((()=>{var e;let t=b.activeComponent;for(;t;){if((null==(e=t.parent)?void 0:e.id)===k.component.id)return!0;t=t.parent}return!1})),j=e=>!(b.isEditMode&&!e),D=e=>{var t;return null!=(t=e.groupStyle)&&t.gheight?h(e.groupStyle,["gtop","gleft","gwidth","gheight","grotate"]):h(e.style,["top","left","width","height","rotate"])};return(e,t)=>_.value?(s(),a("div",{key:1,class:y(["group",{dotted:O.value}])},[(s(!0),a(l,null,i(e.component.subComponents||[],((e,t)=>(s(),a(l,{key:e.id},[j(e.display)?(s(),p(r(C),{key:0,id:"shape"+e.id,defaultStyle:e.style,style:u(D(e)),active:e.id===(w.value||{}).id,info:e,class:y({lock:e.locked}),isInner:!0,index:t},{default:c((()=>[(s(),p(d(e.component),{id:"component"+e.id,class:"component absolute",style:u(r(m)(e)),component:e},null,8,["id","style","component"]))])),_:2},1032,["id","defaultStyle","style","active","info","class","index"])):f("",!0)],64)))),128))],2)):(s(),a("div",E,[(s(!0),a(l,null,i(e.component.subComponents||[],(e=>(s(),p(d(e.component),{key:e.id,id:"component"+e.id,class:"component absolute",style:u(r(g)(e)),component:e},null,8,["id","style","component"])))),128))]))}}),[["__scopeId","data-v-9aa07ac6"]]);export{x as default};
