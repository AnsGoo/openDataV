import{d as m,o as a,y as d,n as l,u as g,x as h,$ as b,_ as v,aZ as S,bM as k,e as p,l as i,bN as w,D as C,f as D,K as L,bO as B,c as u,a as E,F as z,i as O,bP as P}from"./index-3ca9a95a.js";import{h as W}from"./viewer.vue_vue_type_style_index_0_scoped_d4d5ffd9_lang-397c02a3.js";const x=m({__name:"ComponentWrapper",props:{component:{}},setup(y){return(n,c)=>(a(),d(b(n.component.component),{id:"component"+n.component.id,class:"component",style:l(g(h)(n.component)),component:n.component},null,8,["id","style","component"]))}}),F=v(x,[["__scopeId","data-v-57e8671b"]]),H=m({__name:"viewer",setup(y,{expose:n}){S("HOOKS",k(W));const c=p([]),o=p({width:0,height:0,background:{backgroundColor:"#272e3b"}}),_=i(()=>w(o.value.background)),f=i(()=>{const e={...o.value};return C(e,["width","height"])});n({setLayoutData:e=>{e.canvasStyle&&(o.value=e.canvasStyle),e.canvasData&&(c.value=e.canvasData.map(t=>P(t))),r()}}),D(async()=>{window.addEventListener("resize",r)}),L(()=>{window.removeEventListener("resize",r)});const r=()=>{const e=document.querySelector(".screen");if(e){const t=o.value.width,s=o.value.height;B(e,t,s)}};return(e,t)=>(a(),u("div",{class:"bg",style:l(_.value)},[E("div",{ref:"screen",style:l(f.value),class:"screen"},[(a(!0),u(z,null,O(c.value,s=>(a(),d(F,{key:s.id,component:s},null,8,["component"]))),128))],4)],4))}}),N=v(H,[["__scopeId","data-v-d4d5ffd9"]]);export{N as P};
