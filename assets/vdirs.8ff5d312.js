import{o as i,a as o}from"./evtd.79485e8d.js";const r="@@mmoContext",x={mounted(n,{value:e}){n[r]={handler:void 0},typeof e=="function"&&(n[r].handler=e,i("mousemoveoutside",n,e))},updated(n,{value:e}){const t=n[r];typeof e=="function"?t.handler?t.handler!==e&&(o("mousemoveoutside",n,t.handler),t.handler=e,i("mousemoveoutside",n,e)):(n[r].handler=e,i("mousemoveoutside",n,e)):t.handler&&(o("mousemoveoutside",n,t.handler),t.handler=void 0)},unmounted(n){const{handler:e}=n[r];e&&o("mousemoveoutside",n,e),n[r].handler=void 0}};var Z=x;const a="@@coContext",f={mounted(n,{value:e,modifiers:t}){n[a]={handler:void 0},typeof e=="function"&&(n[a].handler=e,i("clickoutside",n,e,{capture:t.capture}))},updated(n,{value:e,modifiers:t}){const d=n[a];typeof e=="function"?d.handler?d.handler!==e&&(o("clickoutside",n,d.handler,{capture:t.capture}),d.handler=e,i("clickoutside",n,e,{capture:t.capture})):(n[a].handler=e,i("clickoutside",n,e,{capture:t.capture})):d.handler&&(o("clickoutside",n,d.handler,{capture:t.capture}),d.handler=void 0)},unmounted(n,{modifiers:e}){const{handler:t}=n[a];t&&o("clickoutside",n,t,{capture:e.capture}),n[a].handler=void 0}};var z=f;function m(n,e){console.error(`[vdirs/${n}]: ${e}`)}class l{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(e,t){const{elementZIndex:d}=this;if(t!==void 0){e.style.zIndex=`${t}`,d.delete(e);return}const{nextZIndex:s}=this;d.has(e)&&d.get(e)+1===this.nextZIndex||(e.style.zIndex=`${s}`,d.set(e,s),this.nextZIndex=s+1,this.squashState())}unregister(e,t){const{elementZIndex:d}=this;d.has(e)?d.delete(e):t===void 0&&m("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:e}=this;e||(this.nextZIndex=2e3),this.nextZIndex-e>2500&&this.rearrange()}rearrange(){const e=Array.from(this.elementZIndex.entries());e.sort((t,d)=>t[1]-d[1]),this.nextZIndex=2e3,e.forEach(t=>{const d=t[0],s=this.nextZIndex++;`${s}`!==d.style.zIndex&&(d.style.zIndex=`${s}`)})}}var u=new l;const c="@@ziContext",I={mounted(n,e){const{value:t={}}=e,{zIndex:d,enabled:s}=t;n[c]={enabled:!!s,initialized:!1},s&&(u.ensureZIndex(n,d),n[c].initialized=!0)},updated(n,e){const{value:t={}}=e,{zIndex:d,enabled:s}=t,h=n[c].enabled;s&&!h&&(u.ensureZIndex(n,d),n[c].initialized=!0),n[c].enabled=!!s},unmounted(n,e){if(!n[c].initialized)return;const{value:t={}}=e,{zIndex:d}=t;u.unregister(n,d)}};var g=I;export{z as c,Z as m,g as z};
