import{u as D}from"./useProp.afe31ed3.js";import{_ as P}from"./index.3086cced.js";import{g as S,r as n,aE as z,b1 as I,o as m,v as p,aP as B,aN as E,aI as x,bk as N}from"./.pnpm.52e5ead5.js";function $(u,f){return arguments.length===1?parseInt(String(Math.random()*u+1),10):parseInt(String(Math.random()*(f-u+1)+u),10)}const W={class:"dv-decoration-6"},G=["width","height"],H=["fill","x","y","width","height","index"],T=["values","dur"],V=["values","dur"],F=S({__name:"Decoration",props:{component:null},setup(u){const f=u,k=(a,s,t)=>{a==="base"&&s==="rectWidth"&&(_.value=t),a==="base"&&s==="space"&&(g.value=t),a==="base"&&s==="color1"&&(w.value[0]=t),a==="base"&&s==="color2"&&(w.value[1]=t),y()},{propValue:d}=D(f.component,k),h=n(300),o=n(35),A=a=>{const t=a[0].contentRect;h.value=t.width,o.value=t.height,y()},c=n(1),_=n(d.base.rectWidth||7),g=n(d.base.space||0),M=n([]),r=n([]),i=n([]),b=n([]),w=n([d.base.color1,d.base.color2]),y=()=>{const a=Math.round(h.value/(_.value+g.value)),s=h.value/(a+1),t=o.value/(c.value+1),l=new Array(c.value).fill(0).map((e,v)=>new Array(a).fill(0).map((L,C)=>[s*(C+1),t*(v+1)]));M.value=l.reduce((e,v)=>[...e,...v],[]),r.value=r.value=new Array(c.value*a).fill(0).map(()=>Math.random()>.8?$(.7*o.value,o.value):$(.2*o.value,.5*o.value)),i.value=new Array(c.value*a).fill(0).map((e,v)=>r.value[v]*Math.random()),b.value=new Array(c.value*a).fill(0).map(()=>Math.random()+1.5)};return z(()=>{y()}),(a,s)=>{const t=N("resize");return I((m(),p("div",W,[(m(),p("svg",{width:h.value,height:o.value},[(m(!0),p(B,null,E(M.value,(l,e)=>(m(),p("rect",{key:e,fill:w.value[Math.random()>.5?0:1],x:(_.value+g.value)*e,y:l[1]-r.value[e]/2,width:_.value,height:r.value[e],index:e},[x("animate",{attributeName:"y",values:`${l[1]-i.value[e]/2};${l[1]-r.value[e]/2};${l[1]-i.value[e]/2}`,dur:`${b.value[e]}s`,keyTimes:"0;0.5;1",calcMode:"spline",keySplines:"0.42,0,0.58,1;0.42,0,0.58,1",begin:"0s",repeatCount:"indefinite"},null,8,T),x("animate",{attributeName:"height",values:`${i.value[e]};${r.value[e]};${i.value[e]}`,dur:`${b.value[e]}s`,keyTimes:"0;0.5;1",calcMode:"spline",keySplines:"0.42,0,0.58,1;0.42,0,0.58,1",begin:"0s",repeatCount:"indefinite"},null,8,V)],8,H))),128))],8,G))])),[[t,A]])}}});var J=P(F,[["__scopeId","data-v-1e96eb0a"]]);export{J as default};
