var c=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var m=(a,r)=>{var t={};for(var e in a)x.call(a,e)&&r.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&c)for(var e of c(a))r.indexOf(e)<0&&w.call(a,e)&&(t[e]=a[e]);return t};var _=(a,r,t)=>new Promise((e,i)=>{var n=o=>{try{p(t.next(o))}catch(d){i(d)}},s=o=>{try{p(t.throw(o))}catch(d){i(d)}},p=o=>o.done?e(o.value):Promise.resolve(o.value).then(n,s);p((t=t.apply(a,r)).next())});import{d as y,a6 as C,r as g,e as E,y as I,O as h,X as b,Y as u,c as l,Q as S,G as T,a as V}from"./@vue.a2815691.js";import{C as f,E as v,b as B,o as N,k as W,s as z,i as H,a as M,p as O,c as U,d as $}from"./@codemirror.d5f3cc4a.js";import{_ as k}from"./index.512f7100.js";import{C as j}from"./naive-ui.3474528c.js";import"./@lezer.4babb687.js";import"./crelt.67277586.js";import"./style-mod.a2e40363.js";import"./w3c-keyname.688ad5d8.js";import"./vue-router.c997c3e8.js";import"./pinia.6e1173f7.js";import"./vue-demi.b3a9cad9.js";import"./mitt.550594b0.js";import"./lodash-es.5f1bdab1.js";import"./dexie.78e6a997.js";import"./lodash.f91bfcd2.js";import"./axios.744bc20e.js";import"./nprogress.5b68415b.js";import"./@icon-park.b1426ebe.js";import"./date-fns.3c009aaa.js";import"./seemly.50a99b79.js";import"./vueuc.e50d3fb2.js";import"./evtd.9eee5233.js";import"./@css-render.8efa119b.js";import"./vooks.5c35c0ee.js";import"./vdirs.9c42edfb.js";import"./@juggle.37ed2144.js";import"./css-render.d5050412.js";import"./@emotion.6322e2ae.js";import"./treemate.80cdf2c2.js";import"./date-fns-tz.851ed5df.js";import"./async-validator.fb49d0f5.js";const D=y({__name:"CodeEditor",props:{code:{default:"import os"},initHeight:{default:"890px"}},emits:["update:code","change"],setup(a,{emit:r}){const t=a;C(o=>({"4e71eb12":o.$props.initHeight}));const e=g(null);let i=new f,n=new f,s,p=v.create({doc:t.code,extensions:[B,N,W.of([...z,H,{key:"Tab",run:M}]),i.of(O()),U({activateOnTyping:!0}),n.of(v.tabSize.of(4))]});return E(()=>{s=new $({state:p,parent:e.value,dispatch:o=>{if(s.update([o]),o.changes.empty)return;const d=s.state.doc.toString();r("update:code",d),r("change",d)}})}),I(()=>s.destroy()),(o,d)=>(h(),b("div",{ref_key:"codemirror",ref:e,class:"codemirror"},null,512))}});var G=k(D,[["__scopeId","data-v-b54fe81e"]]);const K={class:"ide"},Q=V("Run"),R=y({__name:"Ide",setup(a){const r=new Worker("/webworker/index.js");r.onmessage=i=>{const p=i.data,{id:n}=p,s=m(p,["id"]);console.log(n),console.log(s)};const t=g(""),e=()=>_(this,null,function*(){yield r.postMessage({id:1,python:t.value})});return(i,n)=>(h(),b("div",K,[u("div",null,[l(G,{code:t.value,"onUpdate:code":n[0]||(n[0]=s=>t.value=s)},null,8,["code"])]),u("div",null,[l(T(j),{onClick:e,type:"primary",round:""},{default:S(()=>[Q]),_:1})])]))}});var we=k(R,[["__scopeId","data-v-6ba9945a"]]);export{we as default};
