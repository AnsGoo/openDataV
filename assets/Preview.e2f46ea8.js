var f=Object.defineProperty,w=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var m=(n,a,e)=>a in n?f(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e,p=(n,a)=>{for(var e in a||(a={}))k.call(a,e)&&m(n,e,a[e]);if(d)for(var e of d(a))D.call(a,e)&&m(n,e,a[e]);return n},v=(n,a)=>w(n,b(a));var _=(n,a,e)=>new Promise((i,o)=>{var l=s=>{try{t(e.next(s))}catch(r){o(r)}},c=s=>{try{t(e.throw(s))}catch(r){o(r)}},t=s=>s.done?i(s.value):Promise.resolve(s.value).then(l,c);t((e=e.apply(n,a)).next())});import{C as z}from"./ComponentWrapper.b991ad01.js";import{_ as E,o as x,u as B,f as L,p as P}from"./index.3086cced.js";import{g as W,a as g,r as C,aE as I,bm as O,o as u,v as S,aP as q,aN as F,i as H,u as h,n as M}from"./.pnpm.52e5ead5.js";const N=W({__name:"Preview",setup(n){const a=x(),e=B(),i=g(()=>e.componentData),o=C({width:0,height:0,scale:0,image:""}),l=g(()=>{const t=v(p({},o.value),{backgroundImage:o.value.image,backgroundSize:"cover"});return L(t,["width","height","backgroundImage","backgroundSize"])});I(()=>_(this,null,function*(){const t=yield a.latestRecord();t&&e.setLayoutData({canvasData:t.canvasData,canvasStyle:t.canvasStyle}),o.value=e.canvasStyleData,c(),window.addEventListener("resize",c)})),O(()=>{window.removeEventListener("resize",c)});const c=()=>{const t=document.querySelector(".screen");if(t){const s=o.value.width,r=o.value.height;P(t,s,r)}};return(t,s)=>(u(),S("div",{class:"bg",style:M(h(l))},[(u(!0),S(q,null,F(h(i),(r,y)=>(u(),H(z,{key:y,component:r},null,8,["component"]))),128))],4))}});var G=E(N,[["__scopeId","data-v-3a2e73f0"]]);export{G as default};
