import{u as h}from"./hooks-c7f5d0ad.js";import{c as C}from"./utils-ac153957.js";import{d as v,v as _,i as S,x as g,y as O,B as w,u as N,o as A,c as D}from"./index-70139cdd.js";const B=v({__name:"BasicBarChart",props:{component:{}},setup(d){const l=d,n=_(null);let t;const{useProp:c,useData:x}=S("HOOKS")||{};let r=[];const y=(e,s)=>{e.status==="SUCCESS"&&(r=e.afterData,u(r))};x&&x(l.component,y);let a;const b=(...e)=>{u(r)};if(c){const{propValue:e}=c(l.component,b);a=e}const{updateEchart:p,resizeHandler:L}=h(n);g(async()=>{t=f(),p(t)});const f=()=>{const e={grid:{top:"10%",left:"3%",right:"4%",bottom:"10%",containLabel:!0},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[],splitLine:{show:a.axis.xshow,lineStyle:{type:a.axis.xLineType,color:a.axis.xAxisLineColor}},axisLine:{lineStyle:{color:a.axis.axisColor||"#fff"}},axisTick:{lineStyle:{color:a.axis.axisColor||"#fff"}},axisLabel:{color:a.axis.axisLabelColor||"#fff"}},yAxis:{type:"value",max:i=>a.data.max==="dataMax"||!a.data.max?i.max+Number(a.data.maxOffset||0):Number(a.data.max)+Number(a.data.maxOffset||0),min:i=>a.data.min==="dataMin"?i.min-Number(a.data.minOffset||0):["",void 0,null].includes(a.data.min)?0-Number(a.data.minOffset||0):Number(a.data.min)-Number(a.data.minOffset||0),splitLine:{show:a.axis.yshow,lineStyle:{type:a.axis.yLineType,color:a.axis.yAxisLineColor}},axisLine:{lineStyle:{color:a.axis.axisColor||"#fff"}},axisTick:{lineStyle:{color:a.axis.axisColor||"#fff"}},axisLabel:{color:a.axis.axisLabelColor||"#fff"}},series:[]};let s=[{data:[],type:"bar"}];return e.series=s,e},u=e=>{const s=a.data.upperLimit,i=a.data.lowerLimit,m=e.map(o=>({value:C(Number(o.value),s,i),label:o.label}));t=f(),t.series[0].data=m.map(o=>o.value),t.xAxis={...t.xAxis,data:m.map(o=>o.label)},p(t)};return(e,s)=>{const i=O("resize");return w((A(),D("div",{ref_key:"chartEl",ref:n},null,512)),[[i,N(L)]])}}});export{B as default};
