import{u as D,e as y,r as b,L as p}from"./hooks-8a41df44.js";import{u as S}from"./index-9ca6ba45.js";import{u as V}from"./index-c01320d9.js";import{c as E}from"./utils-ac153957.js";import{d as N,e as X,f as O,h as Y,w as k,u as R,o as z,c as B}from"./index-48fbbfb5.js";const q=N({__name:"StereoscopicBarChart",props:{component:{}},setup(g){const C=g;let f,d=[];const P=(n,i)=>{n.status>=0&&(d=n.afterData,T(d))};S(C.component,P);const A=()=>{T(d)},L=X(),{updateEchart:v,resizeHandler:w}=D(L),{propValue:e}=V(C.component,A);O(async()=>{_(),f=h(),v(f)});function _(){const t=y({shape:{x:0,y:0},buildPath(u,o){const a=o.xAxisPoint,l=[o.x,o.y],r=[o.x-10,o.y-5],c=[a[0]-10,a[1]-5],m=[a[0],a[1]];u.moveTo(l[0],l[1])?.lineTo(r[0],r[1])?.lineTo(c[0],c[1])?.lineTo(m[0],m[1])?.closePath()}}),s=y({shape:{x:0,y:0},buildPath:function(u,o){const a=o.xAxisPoint,l=[o.x,o.y],r=[a[0],a[1]],c=[a[0]+10,a[1]-5],m=[o.x+10,o.y-5];u.moveTo(l[0],l[1])?.lineTo(r[0],r[1])?.lineTo(c[0],c[1])?.lineTo(m[0],m[1])?.closePath()}}),x=y({shape:{x:0,y:0},buildPath:function(u,o){const a=[o.x,o.y],l=[o.x+10,o.y-5],r=[o.x,o.y-10],c=[o.x-10,o.y-5];u.moveTo(a[0],a[1])?.lineTo(l[0],l[1])?.lineTo(r[0],r[1])?.lineTo(c[0],c[1])?.closePath()}});b("CubeLeft",t),b("CubeRight",s),b("CubeTop",x)}const h=()=>{const n={grid:{top:"10%",left:"3%",right:"4%",bottom:"10%",containLabel:!0},backgroundColor:"transparent",tooltip:{trigger:"axis"},xAxis:{type:"category",data:[],splitLine:{show:e.axis.xshow,lineStyle:{type:e.axis.xLineType,color:e.axis.xAxisLineColor}},axisLine:{lineStyle:{color:e.axis.axisColor||"#fff"}},axisTick:{lineStyle:{color:e.axis.axisColor||"#fff"}},axisLabel:{color:e.axis.axisLabelColor||"#fff"}},yAxis:{type:"value",max:i=>e.data.max==="dataMax"||!e.data.max?i.max+Number(e.data.maxOffset||0):Number(e.data.max)+Number(e.data.maxOffset||0),min:i=>e.data.min==="dataMin"?i.min-Number(e.data.minOffset||0):e.data.min===""||e.data.min===void 0?0-Number(e.data.minOffset||0):Number(e.data.min)-Number(e.data.minOffset||0),splitLine:{show:e.axis.yshow,lineStyle:{type:e.axis.yLineType,color:e.axis.yAxisLineColor}},axisLine:{lineStyle:{color:e.axis.axisColor||"#fff"}},axisTick:{lineStyle:{color:e.axis.axisColor||"#fff"}},axisLabel:{color:e.axis.axisLabelColor||"#fff"}}};return n.series=[{type:"custom",renderItem(i,t){if(!t?.value)return null;const s=t.coord([t.value(0),t.value(1)]);return{type:"group",children:[{type:"CubeLeft",shape:{api:t,xValue:t.value(0),yValue:t.value(1),x:s[0],y:s[1],xAxisPoint:t.coord([t.value(0),0])},buildPath(){},style:{fill:new p(0,0,0,1,[{offset:0,color:e.label.axisLabelColor||"#3DE7C9"}])}},{type:"CubeRight",shape:{api:t,xValue:t.value(0),yValue:t.value(1),x:s[0],y:s[1],xAxisPoint:t.coord([t.value(0),0])},style:{fill:new p(0,0,0,1,[{offset:0,color:e.label.axisLabelColor||"#3DE7C9"}])}},{type:"CubeTop",shape:{api:t,xValue:t.value(0),yValue:t.value(1),x:s[0],y:s[1],xAxisPoint:t.coord([t.value(0),0])},style:{fill:new p(0,0,0,1,[{offset:0,color:e.label.axisLabelColor||"#3DE7C9"}])}}]}}}],n},T=n=>{const i=e.data.upperLimit,t=e.data.lowerLimit,s=n.map(x=>({value:E(Number(x.value),i,t),label:x.label}));f=h(),f.series[0].data=s,f.xAxis={...f.xAxis,data:s.map(x=>x.label)},v(f)};return(n,i)=>{const t=Y("resize");return k((z(),B("div",{ref_key:"chartEl",ref:L},null,512)),[[t,R(w)]])}}});export{q as default};
