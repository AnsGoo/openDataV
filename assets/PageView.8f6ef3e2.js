var w=Object.defineProperty,S=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var v=(n,a,e)=>a in n?w(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e,_=(n,a)=>{for(var e in a||(a={}))E.call(a,e)&&v(n,e,a[e]);if(p)for(var e of p(a))b.call(a,e)&&v(n,e,a[e]);return n},y=(n,a)=>S(n,k(a));var g=(n,a,e)=>new Promise((u,c)=>{var l=s=>{try{o(e.next(s))}catch(t){c(t)}},d=s=>{try{o(e.throw(s))}catch(t){c(t)}},o=s=>s.done?u(s.value):Promise.resolve(s.value).then(l,d);o((e=e.apply(n,a)).next())});import{C as x}from"./ComponentWrapper.2103f6c1.js";import{g as z}from"./pages.13f04018.js";import{_ as C,d as D,B as f,c as P,k as B,E as F,S as I,$ as L,o as m,b as h,F as V,r as A,e as R,f as W,a as q,a0 as H,a1 as M}from"./index.e04c72e0.js";import"./index.bba27490.js";const U=D({__name:"PageView",setup(n){const a=f([]),e=f({width:0,height:0,scale:0,image:""}),u=P(()=>{const t=y(_({},e.value),{backgroundImage:e.value.image,backgroundSize:"cover"});return B(t,["width","height","backgroundImage","backgroundSize"])}),c=H(),l=M(),d=t=>g(this,null,function*(){console.log("\u52A0\u8F7D\u901A\u7528\u7EC4\u4EF6");try{const r=yield z(t);o(r.data)}catch(r){l.push({name:"Error"})}}),o=t=>{t.canvasStyle&&(e.value=t.canvasStyle),t.canvasData&&(a.value=t.canvasData),s()};F(()=>g(this,null,function*(){yield d(c.params.index),window.addEventListener("resize",s)})),I(()=>{window.removeEventListener("resize",s)});const s=()=>{const t=document.querySelector(".screen");if(t){const r=e.value.width,i=e.value.height;L(t,r,i)}};return(t,r)=>(m(),h("div",{class:"bg",style:W(q(u))},[(m(!0),h(V,null,A(a.value,i=>(m(),R(x,{key:i.id,component:i},null,8,["component"]))),128))],4))}});var N=C(U,[["__scopeId","data-v-5a346d30"]]);export{N as default};
