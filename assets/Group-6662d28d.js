import{d as G,i as I,e as l,o as n,c as o,F as p,f as h,g,h as _,j as M,k as R,l as r,n as u,u as d,m as V,p as S,w as z,q as F,s as q,t as C,_ as A}from"./index-10d63009.js";import{S as H}from"./clipBoard-184df16a.js";const K={key:0,class:"group"},L=G({__name:"Group",props:{component:{}},setup(v){const s=v,k=(t,O)=>{if(t.status==="SUCCESS"){const e=t.afterData,c=s.component.propValue,y=c.dataOption.channel,m=y||s.component.id;if(c.isRegExp){const j=Object.keys(R),D=new RegExp(m);j.forEach(f=>{D.test(f)&&_.on(f,e)})}else _.on(m,e)}},{useData:i}=I("HOOKS")||{};i&&i(s.component,k);const a=M(),w=l(()=>a.isEditMode),x=l(()=>a.curComponent),E=l(()=>{let t=a.curComponent;for(;t;){if(t.parent?.id===s.component.id)return!0;t=t.parent}return!1}),b=t=>!(a.isEditMode&&!t),B=t=>t.groupStyle?.gheight?C(t.groupStyle,["gtop","gleft","gwidth","gheight","grotate"]):C(t.style,["top","left","width","height","rotate"]);return(t,O)=>w.value?(n(),o("div",{key:1,class:g(["group",{dotted:E.value}])},[(n(!0),o(p,null,h(t.component.subComponents||[],(e,c)=>(n(),o(p,{key:e.id},[b(e.display)?(n(),r(d(H),{key:0,id:"shape"+e.id,defaultStyle:e.style,style:u(B(e)),active:e.id===(x.value||{}).id,info:e,class:g({lock:e.locked}),isInner:!0,index:c},{default:z(()=>[(n(),r(S(e.component),{id:"component"+e.id,class:"component",style:u(d(F)(e)),component:e},null,8,["id","style","component"]))]),_:2},1032,["id","defaultStyle","style","active","info","class","index"])):q("",!0)],64))),128))],2)):(n(),o("div",K,[(n(!0),o(p,null,h(t.component.subComponents||[],e=>(n(),r(S(e.component),{key:e.id,id:"component"+e.id,class:"component",style:u(d(V)(e)),component:e},null,8,["id","style","component"]))),128))]))}});const J=A(L,[["__scopeId","data-v-72b46579"]]);export{J as default};
