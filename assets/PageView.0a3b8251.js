var k=Object.defineProperty;var _=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var v=(s,a,e)=>a in s?k(s,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[a]=e,y=(s,a)=>{for(var e in a||(a={}))C.call(a,e)&&v(s,e,a[e]);if(_)for(var e of _(a))E.call(a,e)&&v(s,e,a[e]);return s};var m=(s,a,e)=>new Promise((l,u)=>{var d=n=>{try{c(e.next(n))}catch(o){u(o)}},p=n=>{try{c(e.throw(n))}catch(o){u(o)}},c=n=>n.done?l(n.value):Promise.resolve(n.value).then(d,p);c((e=e.apply(s,a)).next())});import{C as x}from"./ComponentWrapper.45346d29.js";import{g as B}from"./pages.1f4635fc.js";import{d as D,r as b,i as f,b9 as P,J as F,ac as V,ab as z,a as L,v as A,ba as R,o as g,c as h,b as W,F as q,e as H,B as I,l as w,u as S,bb as J,_ as M}from"./index.785a8cd0.js";import"./index.f4f292e1.js";const N=D({__name:"PageView",setup(s){const a=b([]),e=b({width:0,height:0,background:{backgroundColor:"#272e3b"}}),l=f(()=>P(e.value.background)),u=f(()=>{const t=y({},e.value);return F(t,["width","height"])}),d=V(),p=z(),c=t=>m(this,null,function*(){console.log("\u52A0\u8F7D\u901A\u7528\u7EC4\u4EF6");try{const r=yield B(t);n(r.data)}catch(r){p.push({name:"Error"})}}),n=t=>{t.canvasStyle&&(e.value=t.canvasStyle),t.canvasData&&(a.value=t.canvasData.map(r=>J(r))),o()};L(()=>m(this,null,function*(){yield c(d.params.index),window.addEventListener("resize",o)})),A(()=>{window.removeEventListener("resize",o)});const o=()=>{const t=document.querySelector(".screen");if(t){const r=e.value.width,i=e.value.height;R(t,r,i)}};return(t,r)=>(g(),h("div",{class:"bg",style:w(S(l))},[W("div",{style:w(S(u)),ref:"screen",class:"screen"},[(g(!0),h(q,null,H(a.value,i=>(g(),I(x,{key:i.id,component:i},null,8,["component"]))),128))],4)],4))}});const O=M(N,[["__scopeId","data-v-80c43ba3"]]);export{O as default};
