import{u as g}from"./index-9ca6ba45.js";import{u as w}from"./index-c01320d9.js";import{u as v}from"./hooks-8a41df44.js";import{c as _}from"./utils-ac153957.js";import{d as C,e as L,f as D,h as S,w as y,u as z,o as E,c as B}from"./index-48fbbfb5.js";const V=C({__name:"BasicPieChart",props:{component:{}},setup(d){const n=d,c=L(null);let a;const{updateEchart:p,resizeHandler:m}=v(c);let s=[];const h=(t,o)=>{t.status>=0&&(s=t.afterData,l(s)),l(s)};g(n.component,h);const b=()=>{l(s)},{propValue:e}=w(n.component,b);D(async()=>{a=u(),p(a)});const u=()=>{const t={grid:{top:"10%",left:"3%",right:"4%",bottom:"0%",containLabel:!0},tooltip:{trigger:"item"},legend:{show:e.legend.isShow,top:"5%",left:"center"},series:[]};let o=[{type:"pie",radius:[`${e.series.radiusMin||0}%`,`${e.series.radiusMax||100}%`],avoidLabelOverlap:!0,itemStyle:{borderRadius:e.series.borderRadius,borderColor:"transparent",borderWidth:100},label:{show:!1,position:"center",color:e.label.labelColor},emphasis:{label:{show:e.label.isShow,fontSize:e.label.labelSize,fontWeight:e.label.labelWeight},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},labelLine:{show:!1},data:[]}];return t.series=o,t},l=t=>{const o=e.data.upperLimit,i=e.data.lowerLimit,f=t.map(r=>({value:_(Number(r.value),o,i),label:r.label}));a=u(),a.series[0].data=f.map(r=>({value:r.value,name:r.label})),p(a)};return(t,o)=>{const i=S("resize");return y((E(),B("div",{ref_key:"chartEl",ref:c},null,512)),[[i,z(m)]])}}});export{V as default};
