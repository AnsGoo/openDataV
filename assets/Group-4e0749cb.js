import{d as z,X as G,l,o as n,c as o,F as p,i as h,j as g,Y as _,C as I,Z as M,y as r,n as u,u as d,x as R,$ as S,z as V,A,B as F,D as C,_ as H}from"./index-3ca9a95a.js";import{S as K}from"./Shape-1c8dd59a.js";import"./shape.module-52bdef3b.js";const L={key:0,class:"group"},N=z({__name:"Group",props:{component:{}},setup(v){const s=v,k=(t,O)=>{if(t.status==="SUCCESS"){const e=t.afterData,c=s.component.propValue,y=c.dataOption.channel,m=y||s.component.id;if(c.isRegExp){const b=Object.keys(M),j=new RegExp(m);b.forEach(f=>{j.test(f)&&_.on(f,e)})}else _.on(m,e)}},{useData:i}=G("HOOKS")||{};i&&i(s.component,k);const a=I(),x=l(()=>a.isEditMode),E=l(()=>a.curComponent),w=l(()=>{let t=a.curComponent;for(;t;){if(t.parent?.id===s.component.id)return!0;t=t.parent}return!1}),B=t=>!(a.isEditMode&&!t),D=t=>t.groupStyle?.gheight?C(t.groupStyle,["gtop","gleft","gwidth","gheight","grotate"]):C(t.style,["top","left","width","height","rotate"]);return(t,O)=>x.value?(n(),o("div",{key:1,class:g(["group",{dotted:w.value}])},[(n(!0),o(p,null,h(t.component.subComponents,(e,c)=>(n(),o(p,{key:e.id},[B(e.display)?(n(),r(d(K),{key:0,id:"shape"+e.id,defaultStyle:e.style,style:u(D(e)),active:e.id===(E.value||{}).id,info:e,class:g({lock:e.locked}),isInner:!0,index:c},{default:V(()=>[(n(),r(S(e.component),{id:"component"+e.id,class:"component",style:u(d(A)(e)),component:e},null,8,["id","style","component"]))]),_:2},1032,["id","defaultStyle","style","active","info","class","index"])):F("",!0)],64))),128))],2)):(n(),o("div",L,[(n(!0),o(p,null,h(t.component.subComponents,e=>(n(),r(S(e.component),{key:e.id,id:"component"+e.id,class:"component",style:u(d(R)(e)),component:e},null,8,["id","style","component"]))),128))]))}});const Z=H(N,[["__scopeId","data-v-0125c045"]]);export{Z as default};
