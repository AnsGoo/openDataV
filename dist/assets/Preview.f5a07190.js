var z=Object.defineProperty,B=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var S=(n,t,e)=>t in n?z(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,d=(n,t)=>{for(var e in t||(t={}))x.call(t,e)&&S(n,e,t[e]);if(g)for(var e of g(t))E.call(t,e)&&S(n,e,t[e]);return n},y=(n,t)=>B(n,C(t));var h=(n,t,e)=>new Promise((r,o)=>{var l=s=>{try{c(e.next(s))}catch(a){o(a)}},i=s=>{try{c(e.throw(s))}catch(a){o(a)}},c=s=>s.done?r(s.value):Promise.resolve(s.value).then(l,i);c((e=e.apply(n,t)).next())});import{C as L}from"./ComponentWrapper.476edd11.js";import{d as W,bb as I,q as P,i as v,r as f,H as b,a as q,v as F,$ as H,o as p,c as k,b as O,F as A,e as M,A as N,u as m,l as w,_ as R}from"./index.b272d73b.js";const U=W({__name:"Preview",setup(n){const t=I(),e=P(),r=v(()=>e.componentData),o=f({width:0,height:0,image:"",color:"#084860"}),l=f(null),i=v(()=>{const a=y(d({},o.value),{backgroundImage:o.value.image,backgroundSize:"cover",backgroundColor:o.value.color||"#084860"});return b(a,["backgroundImage","backgroundSize","backgroundColor"])}),c=v(()=>{const a=d({},o.value);return b(a,["width","height"])});q(()=>h(this,null,function*(){const a=yield t.latestRecord();a&&e.setLayoutData({canvasData:a.canvasData,canvasStyle:a.canvasStyle}),o.value=e.canvasStyleData,s(),window.addEventListener("resize",s)})),F(()=>{window.removeEventListener("resize",s)});const s=()=>{const a=document.querySelector(".screen");if(a){const _=o.value.width,u=o.value.height;H(a,_,u)}};return(a,_)=>(p(),k("div",{class:"bg",style:w(m(i))},[O("div",{style:w(m(c)),ref_key:"screen",ref:l,class:"screen"},[(p(!0),k(A,null,M(m(r),(u,D)=>(p(),N(L,{key:D,component:u},null,8,["component"]))),128))],4)],4))}});const G=R(U,[["__scopeId","data-v-98bdf0d2"]]);export{G as default};
