var k=Object.defineProperty;var _=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var v=(s,t,e)=>t in s?k(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,y=(s,t)=>{for(var e in t||(t={}))C.call(t,e)&&v(s,e,t[e]);if(_)for(var e of _(t))E.call(t,e)&&v(s,e,t[e]);return s};var m=(s,t,e)=>new Promise((l,u)=>{var d=n=>{try{c(e.next(n))}catch(o){u(o)}},p=n=>{try{c(e.throw(n))}catch(o){u(o)}},c=n=>n.done?l(n.value):Promise.resolve(n.value).then(d,p);c((e=e.apply(s,t)).next())});import{C as x}from"./ComponentWrapper.64d12479.js";import{g as D}from"./pages.181337b2.js";import{d as P,r as f,i as h,b6 as B,H as F,ak as V,aj as z,a as A,v as L,b7 as H,o as g,c as b,b as R,F as W,e as j,A as q,l as w,u as S,b8 as I,_ as M}from"./index.83c15d91.js";import"./index.54ad0418.js";import"./index.f330323f.js";const N=P({__name:"PageView",setup(s){const t=f([]),e=f({width:0,height:0,background:{backgroundColor:"#272e3b"}}),l=h(()=>B(e.value.background)),u=h(()=>{const a=y({},e.value);return F(a,["width","height"])}),d=V(),p=z(),c=a=>m(this,null,function*(){console.log("\u52A0\u8F7D\u901A\u7528\u7EC4\u4EF6");try{const r=yield D(a);n(r.data)}catch(r){p.push({name:"Error"})}}),n=a=>{a.canvasStyle&&(e.value=a.canvasStyle),a.canvasData&&(t.value=a.canvasData.map(r=>I(r))),o()};A(()=>m(this,null,function*(){yield c(d.params.index),window.addEventListener("resize",o)})),L(()=>{window.removeEventListener("resize",o)});const o=()=>{const a=document.querySelector(".screen");if(a){const r=e.value.width,i=e.value.height;H(a,r,i)}};return(a,r)=>(g(),b("div",{class:"bg",style:w(S(l))},[R("div",{style:w(S(u)),ref:"screen",class:"screen"},[(g(!0),b(W,null,j(t.value,i=>(g(),q(x,{key:i.id,component:i},null,8,["component"]))),128))],4)],4))}});const Q=M(N,[["__scopeId","data-v-80c43ba3"]]);export{Q as default};
