var C=Object.defineProperty;var v=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var _=(n,a,e)=>a in n?C(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e,f=(n,a)=>{for(var e in a||(a={}))E.call(a,e)&&_(n,e,a[e]);if(v)for(var e of v(a))x.call(a,e)&&_(n,e,a[e]);return n};var g=(n,a,e)=>new Promise((l,u)=>{var d=o=>{try{c(e.next(o))}catch(s){u(s)}},m=o=>{try{c(e.throw(o))}catch(s){u(s)}},c=o=>o.done?l(o.value):Promise.resolve(o.value).then(d,m);c((e=e.apply(n,a)).next())});import{C as z}from"./ComponentWrapper.56405bb2.js";import{g as D}from"./pages.b51dcbbb.js";import{d as P,r as y,i as h,H as w,aj as B,ai as F,a as V,v as A,b5 as I,o as p,c as S,b as L,F as H,e as R,A as W,l as b,u as k,b6 as j,_ as q}from"./index.56a9069f.js";import"./index.075dcf34.js";import"./index.df33a564.js";const M=P({__name:"PageView",setup(n){const a=y([]),e=y({width:0,height:0,image:"",color:"#084860"}),l=h(()=>{const t={backgroundImage:e.value.image,backgroundSize:"cover",backgroundColor:e.value.color||"#084860"};return w(t,["backgroundImage","backgroundSize","backgroundColor"])}),u=h(()=>{const t=f({},e.value);return w(t,["width","height"])}),d=B(),m=F(),c=t=>g(this,null,function*(){console.log("\u52A0\u8F7D\u901A\u7528\u7EC4\u4EF6");try{const r=yield D(t);o(r.data)}catch(r){m.push({name:"Error"})}}),o=t=>{t.canvasStyle&&(e.value=t.canvasStyle),t.canvasData&&(a.value=t.canvasData.map(r=>j(r))),s()};V(()=>g(this,null,function*(){yield c(d.params.index),window.addEventListener("resize",s)})),A(()=>{window.removeEventListener("resize",s)});const s=()=>{const t=document.querySelector(".screen");if(t){const r=e.value.width,i=e.value.height;I(t,r,i)}};return(t,r)=>(p(),S("div",{class:"bg",style:b(k(l))},[L("div",{style:b(k(u)),ref:"screen",class:"screen"},[(p(!0),S(H,null,R(a.value,i=>(p(),W(z,{key:i.id,component:i},null,8,["component"]))),128))],4)],4))}});const Q=q(M,[["__scopeId","data-v-3cd8f31f"]]);export{Q as default};
