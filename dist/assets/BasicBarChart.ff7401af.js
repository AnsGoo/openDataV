var v=Object.defineProperty,w=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var h=(s,t,e)=>t in s?v(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,L=(s,t)=>{for(var e in t||(t={}))N.call(t,e)&&h(s,e,t[e]);if(b)for(var e of b(t))O.call(t,e)&&h(s,e,t[e]);return s},g=(s,t)=>w(s,_(t));var f=(s,t,e)=>new Promise((o,m)=>{var x=a=>{try{c(e.next(a))}catch(l){m(l)}},p=a=>{try{c(e.throw(a))}catch(l){m(l)}},c=a=>a.done?o(a.value):Promise.resolve(a.value).then(x,p);c((e=e.apply(s,t)).next())});import{h as S}from"./index.9edfe2fb.js";import{d as A,r as E,q as k,a as B,w as D,u as M,o as T,c as z,f as V}from"./index.15868122.js";import{u as q}from"./useProp.afe31ed3.js";import{c as H}from"./utils.fc532f69.js";import{u as P}from"./hooks.aef88ef5.js";import"./index.4ca8354f.js";const K=A({__name:"BasicBarChart",props:{component:null},setup(s){const t=s,e=E(null);let o;const m=k(),x=()=>{l()},{updateEchart:p,resizeHandler:c}=P(e),{propValue:a}=q(t.component,x);B(()=>f(this,null,function*(){o=u(),p(o),yield l()}));const l=()=>f(this,null,function*(){try{const i=yield S.get({url:a.data.url});if(i.status===200){const r=a.data.upperLimit,n=a.data.lowerLimit,C=i.data.map(y=>({value:H(Number(y.value),r,n),label:y.label}));d(C)}}catch(i){console.log((i==null?void 0:i.message)||i),m.isEditMode&&d(t.component.exampleData)}}),u=()=>{const i={grid:{top:"10%",left:"3%",right:"4%",bottom:"10%",containLabel:!0},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[],splitLine:{show:a.axis.xshow,lineStyle:{type:a.axis.xLineType,color:a.axis.xAxisLineColor}},axisLine:{lineStyle:{color:a.axis.axisColor||"#fff"}},axisTick:{lineStyle:{color:a.axis.axisColor||"#fff"}},axisLabel:{color:a.axis.axisLabelColor||"#fff"}},yAxis:{type:"value",max:n=>a.data.max==="dataMax"||!a.data.max?n.max+Number(a.data.maxOffset||0):Number(a.data.max)+Number(a.data.maxOffset||0),min:n=>a.data.min==="dataMin"?n.min-Number(a.data.minOffset||0):a.data.min===""||a.data.min===void 0||a.data.min===null?0-Number(a.data.minOffset||0):Number(a.data.min)-Number(a.data.minOffset||0),splitLine:{show:a.axis.yshow,lineStyle:{type:a.axis.yLineType,color:a.axis.yAxisLineColor}},axisLine:{lineStyle:{color:a.axis.axisColor||"#fff"}},axisTick:{lineStyle:{color:a.axis.axisColor||"#fff"}},axisLabel:{color:a.axis.axisLabelColor||"#fff"}},series:[]};let r=[{data:[],type:"bar"}];return i.series=r,i},d=i=>{o=u(),o.series[0].data=i.map(r=>r.value),o.xAxis=g(L({},o.xAxis),{data:i.map(r=>r.label)}),p(o)};return(i,r)=>{const n=V("resize");return D((T(),z("div",{ref_key:"chartEl",ref:e},null,512)),[[n,M(c)]])}}});export{K as default};
