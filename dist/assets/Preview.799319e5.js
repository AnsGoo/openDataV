var D=Object.defineProperty;var m=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var y=(s,a,e)=>a in s?D(s,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[a]=e,l=(s,a)=>{for(var e in a||(a={}))C.call(a,e)&&y(s,e,a[e]);if(m)for(var e of m(a))B.call(a,e)&&y(s,e,a[e]);return s};var S=(s,a,e)=>new Promise((i,o)=>{var u=n=>{try{c(e.next(n))}catch(t){o(t)}},d=n=>{try{c(e.throw(n))}catch(t){o(t)}},c=n=>n.done?i(n.value):Promise.resolve(n.value).then(u,d);c((e=e.apply(s,a)).next())});import{C as x}from"./ComponentWrapper.2b804b19.js";import{d as z,c6 as E,q as L,i as v,r as h,bg as W,H as b,a as P,v as q,bi as F,o as _,c as f,b as H,F as I,e as O,A,u as g,l as k,_ as M}from"./index.946b645a.js";const N=z({__name:"Preview",setup(s){const a=E(),e=L(),i=v(()=>e.componentData),o=h({width:0,height:0,background:{backgroundColor:"#272e3b"}}),u=h(null),d=v(()=>{const t=W(o.value.background),r=l(l({},o.value),t);return b(r,["backgroundImage","backgroundSize","backgroundColor"])}),c=v(()=>{const t=l({},o.value);return b(t,["width","height"])});P(()=>S(this,null,function*(){const t=yield a.latestRecord();t&&e.setLayoutData({canvasData:t.canvasData,canvasStyle:t.canvasStyle}),o.value=e.canvasStyleData,n(),window.addEventListener("resize",n)})),q(()=>{window.removeEventListener("resize",n)});const n=()=>{const t=document.querySelector(".screen");if(t){const r=o.value.width,p=o.value.height;F(t,r,p)}};return(t,r)=>(_(),f("div",{class:"bg",style:k(g(d))},[H("div",{style:k(g(c)),ref_key:"screen",ref:u,class:"screen"},[(_(!0),f(I,null,O(g(i),(p,w)=>(_(),A(x,{key:w,component:p},null,8,["component"]))),128))],4)],4))}});const V=M(N,[["__scopeId","data-v-d75095ac"]]);export{V as default};
